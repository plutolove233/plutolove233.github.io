[{"categories":["vscodeæ’ä»¶é…ç½®è®¾ç½®"],"content":"åœ¨æ’ä»¶ä¸­æ‰¾åˆ°Todo Treeï¼Œç‚¹å‡»è®¾ç½®æŒ‰é’® æ‰¾åˆ°åœ¨settings.jsonä¸­ç¼–è¾‘æ›´å¤š å°†ä¸Šè¿°ä»£ç å¤åˆ¶åˆ°settings.jsonä¸­å³å¯ã€‚ \"todo-tree.regex.regex\": \"((%|#|//|\u003c!--|^\\\\s*\\\\*)\\\\s*($TAGS)|^\\\\s*- \\\\[ \\\\])\", \"todo-tree.regex.regexCaseSensitive\": false, \"todo-tree.general.tags\": [ \"BUG\", \"HACK\", \"FIXME\", \"TODO\", \"todo\", \"bug\", \"tag\", \"done\", \"mark\", \"test\", \"update\", \"[]\", \"[x]\" ], \"todo-tree.highlights.defaultHighlight\": { \"background\": \"#ff9100\", \"foreground\": \"#ffffff\", \"type\": \"text\", \"icon\": \"bug\" }, \"todo-tree.highlights.customHighlight\": { //todo éœ€è¦åšçš„åŠŸèƒ½ \"todo\": { \"icon\": \"alert\", //æ ‡ç­¾æ ·å¼ \"background\": \"#c9c552\", //èƒŒæ™¯è‰² \"rulerColour\": \"#c9c552\", //å¤–æ¡†é¢œè‰² \"iconColour\": \"#c9c552\", //æ ‡ç­¾é¢œè‰² }, //bug å¿…é¡»è¦ä¿®å¤çš„BUG \"bug\": { \"background\": \"#ff3737\", \"icon\": \"bug\", \"rulerColour\": \"#eb5c5c\", \"iconColour\": \"#eb5c5c\", }, //tag æ ‡ç­¾ \"tag\": { \"background\": \"#38b2f4\", \"icon\": \"tag\", \"rulerColour\": \"#38b2f4\", \"iconColour\": \"#38b2f4\", \"rulerLane\": \"full\" }, //done å·²å®Œæˆ \"done\": { \"background\": \"#328050\", \"icon\": \"check\", \"rulerColour\": \"#5eec95\", \"iconColour\": \"#5eec95\", }, //mark æ ‡è®°ä¸€ä¸‹ \"mark\": { \"background\": \"#f90\", \"icon\": \"note\", \"rulerColour\": \"#f90\", \"iconColour\": \"#f90\", }, //test æµ‹è¯•ä»£ç  \"test\": { \"background\": \"#df7be6\", \"icon\": \"flame\", \"rulerColour\": \"#df7be6\", \"iconColour\": \"#df7be6\", }, //update ä¼˜åŒ–å‡çº§ç‚¹ \"update\": { \"background\": \"#b14e75\", \"icon\": \"versions\", \"rulerColour\": \"#d65d8e\", \"iconColour\": \"#d65d8e\", }, }, ","date":"2024-01-22","objectID":"/todotree/:0:0","tags":["vscode","extension"],"title":"Todotreeæ’ä»¶è®¾ç½®","uri":"/todotree/"},{"categories":["golangä¹‹è·¯"],"content":"Go erroræ¥å£å’Œé”™è¯¯å¤„ç† ","date":"2025-01-03","objectID":"/go-error/:0:0","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"erroræ¥å£ä¸é”™è¯¯å¤„ç† goä¸javaä¸åŒçš„æ˜¯ï¼Œå¹¶ä¸ä¼šé‡‡ç”¨try-catchæ–¹å¼æ¥å¤„ç†ä»£ç ä¸­å‡ºç°çš„é”™è¯¯ï¼Œè€Œæ˜¯é€šè¿‡if err != nilçš„æ–¹å¼æ¥å¤„ç†ã€‚å…¶ä¸­erroræ¥å£ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š type error interface { Error() string } Error()å‡½æ•°è¿”å›çš„ç»“æœæ˜¯å¯¹é”™è¯¯å†…å®¹çš„æè¿°ã€‚ç”±äºerroræ˜¯æ¥å£ç±»å‹ï¼Œé»˜è®¤é›¶å€¼æ˜¯nilï¼Œä»¥æ­¤æ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿé”™è¯¯ï¼Œä¾‹å¦‚ï¼š file, err := os.Open(\"./a.txt\") if err != nil { fmt.Println(\"Open file failed, error=\", err.Error()) return } ","date":"2025-01-03","objectID":"/go-error/:1:0","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"è‡ªå®šä¹‰é”™è¯¯ ","date":"2025-01-03","objectID":"/go-error/:2:0","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"errorsåº“ å¯ä»¥é€šè¿‡errorsåº“ä¸­çš„Newå‡½æ•°ï¼Œå³å¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é”™è¯¯ï¼š import \"errors\" func query(id int) (int, error) { if id \u003c 1 { return 0, errors.New(\"invalid id\") } return 1, nil } func main() { if res, err := query(0); err != nil { fmt.Println(\"get infomation failed, err=\", err) return } fmt.Printf(\"get %d information\", res) } ","date":"2025-01-03","objectID":"/go-error/:2:1","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"fmt.Errorf()ç»“æ„åŒ–å®šä¹‰é”™è¯¯ å½“è¡¨è¾¾çš„é”™è¯¯å­—ç¬¦ä¸²éœ€è¦ç»“æ„åŒ–è¡¨è¾¾æ—¶ï¼Œå¯é‡‡ç”¨è¯¥æ–¹æ³•å®ç°ï¼Œä¾‹å¦‚ï¼š fmt.Errorf(\"query database failed, error=%w\", err) è¿™å…¶ä¸­è®¾è®¡åˆ°é”™è¯¯é“¾æŠ€æœ¯ï¼Œå¯é˜…è¯»è¿™ç¯‡åšå®¢ ï¼Œå¯¹è¯¥çŸ¥è¯†è·å–æ›´åŠ è¯¦ç»†çš„ç†è§£ï¼Œåœ¨ä¸€èˆ¬å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸éœ€è¦è€ƒè™‘åˆ°è¿™äº›ã€‚ ","date":"2025-01-03","objectID":"/go-error/:2:2","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"è‡ªå®šä¹‰ç±»å‹ï¼Œå®ç°æ¥å£ è¿™ç§åšæ³•å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œæ¥è¡¨ç¤ºç‰¹å®šçš„é”™è¯¯ï¼ˆè¿™ç§æ–¹å¼æ›´åŠ ç±»ä¼¼javaçš„åšæ³•ï¼‰ï¼Œä¾‹å¦‚ï¼š type OpError struct { Op string } func (e *OpError) Error() string { return fmt.Sprintf(\"you don't have auth to exec %s\", e.Op) } ","date":"2025-01-03","objectID":"/go-error/:2:3","tags":["golang","study"],"title":"Go Error","uri":"/go-error/"},{"categories":["golangä¹‹è·¯"],"content":"æ¥å£ ","date":"2024-12-30","objectID":"/go-interface/:0:0","tags":["golang","study"],"title":"Goæ¥å£","uri":"/go-interface/"},{"categories":["golangä¹‹è·¯"],"content":"æ¥å£ç±»å‹å®šä¹‰ æ¥å£æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ä¸€ç§ç±»å‹ï¼Œå®šä¹‰ä¸­åŒ…å«äº†ä¸€ç»„æ–¹æ³•ï¼Œç”¨äºè§„å®šéœ€è¦å®ç°å“ªäº›æ–¹æ³•ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š type Animaler interface { Calls() string Name() string Resp(string) string } ä¸Šè¿°ä»£ç å°±å®šä¹‰äº†ä¸€ç§Animalæ¥å£ç±»å‹ï¼Œåªè¦æŸç§ç±»å‹å®ç°äº†è¯¥æ¥å£ç±»å‹æ‰€è§„å®šçš„æ–¹æ³•ï¼Œå°±å¯ä»¥ç§°å…¶å®ç°ï¼ˆimplementï¼‰äº†è¯¥æ¥å£ã€‚ éœ€è¦æ³¨æ„çš„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š æ¥å£ä¸­å£°æ˜çš„å‡½æ•°å‚æ•°ç±»å‹å¯ä»¥æ²¡æœ‰å‚æ•°å æ¥å£åçš„å‘½åæ–¹å¼å»ºè®®é‡‡ç”¨erç»“å°¾ï¼Œä¸”æœ€å¥½èƒ½å¤Ÿè¡¨è¾¾å…¶åŸºæœ¬æ„ä¹‰ ","date":"2024-12-30","objectID":"/go-interface/:1:0","tags":["golang","study"],"title":"Goæ¥å£","uri":"/go-interface/"},{"categories":["golangä¹‹è·¯"],"content":"å¦‚ä½•å®ç°æ¥å£ ä¸Šæ–‡å·²ç»è¯´è¿‡ï¼Œä»»ä½•ç±»å‹åªè¦å®ç°äº†æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œå°±å¯ä»¥è¯´å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå¯¹äºä¸Šè¿°çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å®ç°ã€‚ type Bird struct { } func (b *Bird) Calls() string { return \"Chirpping!\" } func (b *Bird) Name() string { return \"Its name is robin.\" } func (b *Bird) Resp(order string) string { if order == \"do sth\" { return \"Bird is singing!\" } return \"Bird is dead...\" } ä¸Šè¿°è¿™æ®µä»£ç ä¸­Birdå®ç°äº†æ¥å£Animalerï¼Œè¿™ä¸javaä¸åŒçš„æ˜¯ï¼Œæ¥å£å®ç°å¹¶ä¸éœ€è¦ç›´æ¥ç”³æ˜è¯¥ç±»å‹å®ç°äº†ä»€ä¹ˆæ¥å£ï¼Œè€Œæ˜¯ä»…éœ€å®ç°æ¥å£è§„å®šçš„æ–¹æ³•å³å¯ã€‚ ","date":"2024-12-30","objectID":"/go-interface/:2:0","tags":["golang","study"],"title":"Goæ¥å£","uri":"/go-interface/"},{"categories":["golangä¹‹è·¯"],"content":"ä¸ºä»€ä¹ˆä½¿ç”¨æ¥å£ ä¸¾ä¸ªä¾‹å­ã€‚å¯¹äºå†™ä»»åŠ¡ï¼Œä¼šå­˜åœ¨å‘æ–‡ä»¶å†™ã€å‘æ§åˆ¶å°å†™ï¼Œç”šè‡³å†™çš„æ ¼å¼ä¹Ÿä¼šæœ‰ä¸€äº›ä¸åŒï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚æœæ²¡æœ‰æ¥å£ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼š type LoggerWritter struct { } func (lw *LoggerWritter) Write(msg string) string { return fmt.Sprintf(\"Write to log file, %s\\n\", msg) } type CmdWritter struct { } func (cw *CmdWritter) Write(msg string) string { return fmt.Sprintf(\"Write to command line, %s\\n\", msg) } // å®šä¹‰ä¸€ä¸ªå†™ä»»åŠ¡çš„åœºæ™¯ func RunLoggerWrite(lw LoggerWritter) { lw.Write(\"death!\") } func RunCommandWrite(cw CmdWritter) { cw.Write(\"boring!\") } åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå†™æ–¹æ³•éœ€è¦å•ç‹¬çš„å‡½æ•°æ¥æ‰§è¡Œï¼Œååˆ†éº»çƒ¦ã€‚ä½†æ˜¯å¦‚æœå°†å˜é‡ç±»å‹æ¢æˆæ¥å£ï¼Œé€»è¾‘å°±å˜å¾—æ¸…æ™°å¤šäº†ã€‚ type Writer interface { Write(string) string } func DIYWrite(w Writer, msg string) { w.Write(msg) } func main() { // ... DIYWrite(loggerWritter, \"death!\") // ... } åœ¨å†™è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå…¶å®å¹¶ä¸éœ€è¦å…³æ³¨æ˜¯æœ‰è°æ¥å†™ï¼Œåªéœ€è¦çŸ¥é“æœ‰ä¸ªèƒ½å¤Ÿæ‰§è¡Œå†™ä»»åŠ¡çš„å‚æ•°å°±è¡Œäº†ã€‚å°±å¥½æ¯”æ’åº§å’Œæ’å¤´å¾€å¾€å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œåªéœ€è¦ä¸‰å­”æ’åº§å¯¹åº”ä¸‰çº¿æ’å¤´å³å¯ã€‚æ¥å£å°±æ‰¿æ‹…ç€è¿™ä¸ªæ’åº§çš„ä½œç”¨ï¼Œå®ƒè¯´æ˜äº†éœ€è¦å“ªäº›åŠŸèƒ½ï¼Œæˆ‘ä»¬ä»…éœ€å‘å…¶ä¼ é€’æ»¡è¶³è¿™äº›åŠŸèƒ½çš„å˜é‡å³å¯ã€‚ åŒæ ·çš„ï¼Œå®é™…ç”Ÿæ´»ä¸­ä¹Ÿå­˜åœ¨çš„è®¸å¤šè¿™æ ·çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‘å•†å®¶æä¾›äºŒç»´ç ä»˜é’±æ—¶ï¼Œè¿™ä¸ªäºŒç»´ç å¯ä»¥æ˜¯å¾®ä¿¡æ”¯ä»˜äºŒç»´ç ï¼Œä¹Ÿå¯ä»¥æ˜¯æ”¯ä»˜å®æ”¯ä»˜äºŒç»´ç ï¼ŒäºŒç»´ç å‘è¡Œè€…æ˜¯è°å¹¶ä¸ä¼šå½±å“ä»˜é’±ã€ä¹Ÿä¸ä¼šå­˜åœ¨éœ€è¦ä¸åŒè®¾å¤‡æ¥æ‰«æè¿™ä¸ªäºŒç»´ç çš„é—®é¢˜ï¼Œè¿™å°±æ˜¯æ¥å£å­˜åœ¨çš„æ„ä¹‰ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„ç§¯æé‡‡ç”¨æ¥å£è¿™ä¸€ç‰¹æ€§ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ï¼Œé™ä½ä»£ç çš„è€¦åˆç¨‹åº¦ã€‚ ","date":"2024-12-30","objectID":"/go-interface/:3:0","tags":["golang","study"],"title":"Goæ¥å£","uri":"/go-interface/"},{"categories":["golangä¹‹è·¯"],"content":"æ¥å£çš„æ³¨æ„ç‚¹ ä¸€ä¸ªç±»å‹èƒ½å¤Ÿå®ç°å¤šä¸ªæ¥å£ï¼Œä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥è¢«å¤šä¸ªç±»å‹å®ç°ï¼Œä¸”å®ç°çš„æ–¹å¼æ— éœ€æ˜¾å¼è¯´æ˜ï¼ˆå³æ— éœ€ä½¿ç”¨implementæ¥è¯´æ˜å®ç°äº†ä»€ä¹ˆæ¥å£ï¼‰ Goè¯­è¨€ä¸­çš„æ¥å£åŒæ ·å¯ä»¥é€šè¿‡åŒ¿ååµŒå…¥çš„æ–¹å¼å®ç°æ¥å£çš„ç»„åˆï¼Œä¾‹å¦‚ï¼š type Writer interface { Write([]byte) error } type Reader interface { Read([]byte) (int, error) } type IO interface { Writer Reader } ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒIOæ¥å£å°±æ˜¯Readeræ¥å£å’ŒWriteræ¥å£çš„ç»„åˆ ç©ºæ¥å£æ˜¯æŒ‡æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•çš„æ¥å£ç±»å‹ï¼Œå³interface{}æˆ–anyï¼Œç©ºæ¥å£å¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°ä»¥åŠmapå€¼çš„ç±»å‹ï¼Œè¿™æ ·å‡½æ•°ä»¥åŠmapå€¼æ¥æ”¶çš„æ•°æ®å°±æ²¡æœ‰è¦æ±‚äº† å¯¹äºæ¥å£ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥åˆ¤æ–­å®é™…ç±»å‹ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š package main type I interface { F() } type T1 struct { } func (t T1) F() { println(\"T1.F\") } type T2 struct { } func (t *T2) F() { println(\"T2.F\") } func checkType(i I) { // ç±»å‹æ–­è¨€åˆ¤æ–­ç±»å‹ switch i.(type) { case T1: println(\"T1\") case *T2: println(\"T2\") } // ç±»å‹æ–­è¨€ï¼Œè½¬æ¢ç±»å‹ï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™okå€¼ä¸ºtrue v, ok := i.(T1) if ok { v.F() } } func main() { var i I i = T1{} checkType(i) i = \u0026T2{} checkType(i) } æ¥å£å®ç°å¯é€šè¿‡å€¼æ¥æ”¶è€…å®ç°ï¼Œä¹Ÿå¯é€šè¿‡æŒ‡é’ˆæ¥æ”¶è€…å®ç°ï¼Œç”¨ä»€ä¹ˆæ–¹å¼å®ç°çš„ï¼Œé‚£ä¹ˆæ¥å£èƒ½æ¥æ”¶çš„å°±æ˜¯é‚£ç§ç±»å‹ï¼Œä¾‹å¦‚ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ var i I i = T1{} // å€¼æ¥æ”¶è€…å®ç° i = \u0026T2{} // æŒ‡é’ˆæ¥æ”¶è€…å®ç° ","date":"2024-12-30","objectID":"/go-interface/:4:0","tags":["golang","study"],"title":"Goæ¥å£","uri":"/go-interface/"},{"categories":["vscodeæ’ä»¶é…ç½®è®¾ç½®"],"content":"é¦–å…ˆä½ éœ€è¦æŒ‰ç…§è¿™ä¸ªæ•™ç¨‹ å®‰è£…å¥½Goç¯å¢ƒã€‚ ä¹‹ååœ¨vscodeæ’ä»¶å•†åŸä¸­ï¼Œæœå¯»Goï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªè¿›è¡Œå®‰è£…ã€‚ å®‰è£…å¥½æ’ä»¶åï¼ŒæŒ‰ä¸‹Ctrl+Shift+På¿«æ·é”®ï¼Œè¾“å…¥go toolï¼Œå¹¶å®‰è£…æ‰€æœ‰å·¥å…·ã€‚ è§‚å¯Ÿåœ¨${GOPATH}/binç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨è¿™äº›å·¥å…·çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ é‡å¯vscodeï¼Œå³å¯ã€‚ ","date":"2024-11-10","objectID":"/go/:0:0","tags":["golang"],"title":"vscode Goç¯å¢ƒè®¾ç½®","uri":"/go/"},{"categories":["golangä¹‹è·¯"],"content":"æŒ‡é’ˆ å’ŒCè¯­è¨€ä¸€æ ·ï¼ŒGoä¸­ä¹Ÿå­˜åœ¨æŒ‡é’ˆï¼Œä¸€èˆ¬é‡‡ç”¨å¦‚ä¸‹æ–¹å¼æ¥è·å–å˜é‡çš„åœ°å€ï¼š a := 12 var ptr *int = \u0026a å¦‚æœæˆ‘ä»¬æƒ³è¦è·å–è¯¥æŒ‡é’ˆå˜é‡æŒ‡å‘åœ°å€å¯¹åº”çš„å†…å®¹æ—¶ï¼Œæˆ‘ä»¬å¯é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ï¼š fmt.Println(*ptr) *æ“ä½œç¬¦å’Œ\u0026æ“ä½œç¬¦åˆ†åˆ«ä»£è¡¨äº†å–å€¼æ“ä½œå’Œå–åœ°å€æ“ä½œã€‚ å¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåœ¨Goä¸­éœ€è¦æ³¨æ„ä¸ä»…éœ€è¦å£°æ˜ï¼Œè€Œä¸”éœ€è¦ä¸ºå…¶åˆ†é…å†…å­˜ç©ºé—´ï¼Œä¸ç„¶å°±æ˜¯å¯¹ä¸€ä¸ªç©ºæŒ‡é’ˆè¿›è¡Œæ“ä½œäº†ï¼Œå…·ä½“çš„ä¾‹å­å¦‚ä¸‹ï¼š func main(){ var a *int *a = 100 } ä¸ºäº†ä¿®æ”¹ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å¦‚ä¸‹æ“ä½œï¼š func main() { var a *int a = new(int) *a = 100 } new(T)å‡½æ•°èƒ½å¤Ÿè¿”å›ä¼ å…¥ç±»å‹Tçš„å†…å­˜åœ°å€ï¼Œå¹¶ä¸”å†…å­˜ä¸­å¯¹åº”çš„å€¼ä¸ºç±»å‹çš„é›¶å€¼ã€‚ ","date":"2024-11-08","objectID":"/go-basic2/:1:0","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"å‡½æ•° å‡½æ•°çš„å®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š func å‡½æ•°å(å‚æ•°) (è¿”å›å€¼) { å‡½æ•°ä½“ } å…¶ä¸­éœ€è¦è¯´æ˜çš„æ˜¯ï¼š å‚æ•°ç”±å‚æ•°å˜é‡å’Œå‚æ•°å˜é‡çš„ç±»å‹ç»„æˆï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨,åˆ†éš”ã€‚ å¦‚æœç›¸é‚»çš„å‚æ•°ç±»å‹ç›¸åŒï¼Œä¾‹å¦‚a int, b intå¯ä»¥ç®€å†™ä¸ºa, b int å¦‚æœä¼ å…¥å‚æ•°æ•°é‡ä¸ç¡®å®šï¼Œå¯ç”¨...Tæ¥è¡¨ç¤ºå¯å˜å‚æ•°ã€‚ä¾‹å¦‚func (a string, x ...int) å›ºå®šå‚æ•°å’Œå¯å˜å‚æ•°æ­é…æ—¶ï¼Œå¯å˜å‚æ•°å¾—æ”¾åœ¨å›ºå®šå‚æ•°åé¢ã€‚ å¯å˜å‚æ•°å¯ä»¥æ˜¯ä¸ºä¸€ä¸ªæ•°ç»„ è¿”å›å€¼ç”±è¿”å›å€¼å˜é‡å’Œå…¶å˜é‡ç±»å‹ç»„æˆï¼Œä¹Ÿå¯ä»¥åªå†™è¿”å›å€¼çš„ç±»å‹ï¼Œå¤šä¸ªè¿”å›å€¼å¿…é¡»ç”¨()åŒ…è£¹ï¼Œå¹¶ç”¨,åˆ†éš”ã€‚ å¦‚æœè¿”å›å€¼éƒ¨åˆ†æ˜¯ç”±è¿”å›å€¼å˜é‡å’Œå˜é‡ç±»å‹ç»„æˆçš„è¯ï¼Œå‡½æ•°ä½“å†…éƒ¨å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªè¿”å›å€¼ï¼Œå¹¶åœ¨æœ€åä»…ä½¿ç”¨returnæ¥è¡¨ç¤ºè¿”å›å‡½æ•°ç»“æœ æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªa+bçš„å‡½æ•°ä½œä¸ºç¤ºä¾‹ï¼š func intSum(a int, b int) res int { res = a + b return } int main() { b := intSum(1, 2) // è°ƒç”¨å‡½æ•° } ","date":"2024-11-08","objectID":"/go-basic2/:2:0","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"å‡½æ•°ç±»å‹ åœ¨goä¸­ï¼Œå‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå› æ­¤å¯ä»¥ä½œä¸ºå˜é‡è¿›è¡Œä¼ è¾“ã€‚ä¾‹å¦‚ï¼š func add(x, y int) int { return x + y } func minus(x, y int) int { return x - y } func calc(x, y int, op func(int, int)int) int { return op(x, y) } func main() { res := calc(1, 2, add) println(res) } ä½†æ˜¯åœ¨ä¸Šè¿°å®ç°ä¸­ï¼Œopçš„å‡½æ•°ç­¾åè¿‡é•¿ï¼Œå®é™…åº”ç”¨ä¸­å¹¶ä¸ç°å®ï¼Œè€Œä¸”ä¸èƒ½çªå‡ºè¿™ä¸ªå˜é‡çš„æ„ä¹‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºè¿™ä¸ªç±»å‹å®šä¹‰ä¸€ä¸ªç±»å‹ï¼š type IntOperation func(int,int)int å¯ä»¥ç†è§£æˆä¸ºfunc(int,int)intè¿™ä¸ªå‡½æ•°ç­¾åå®šä¹‰æ–°çš„åå­—ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºåŸºæœ¬ç±»å‹å®šä¹‰æ–°åå­—ï¼š type MyInt int é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€åŒ–ä»£ç ä¸ºå¦‚ä¸‹å½¢å¼ï¼š type IntOperation func(int,int)int func add(x, y int) int { return x + y } func minus(x, y int) int { return x - y } func calc(x, y int, op IntOperation) int { return op(x, y) } func main() { res := calc(1, 2, add) println(res) } ","date":"2024-11-08","objectID":"/go-basic2/:2:1","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"åŒ¿åå‡½æ•°å’Œé—­åŒ… å‡½æ•°åŒæ ·å¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼Œåœ¨goä¸­ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å‡½æ•°ï¼Œå› æ­¤é‡‡ç”¨åŒ¿åå‡½æ•°æ¥å®ç°ï¼Œä¾‹å¦‚ï¼š func main() { add := func(x, y int) int { fmt.Println(x+y) } add(1, 2) func (x, y int) int { fmt.Println(x+y) }(1, 2) } å½“å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¯¥å‡½æ•°è¿˜åŒ…å«ç›¸å…³å¼•ç”¨ç¯å¢ƒæ—¶ï¼Œæˆ‘ä»¬å°±ç§°å…¶ä¸ºé—­åŒ…ï¼Œä¾‹å¦‚ï¼š func addr() func(int) int { x := 10 return func(y int) int { x += y return x } } func main() { f := addr() print(f(10)) // 20 print(f(20)) // 40 } ","date":"2024-11-08","objectID":"/go-basic2/:2:2","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"deferè¯­å¥ deferè¯­å¥ä¼šå°†å…¶åé¢è·Ÿéšçš„è¯­å¥è¿›è¡Œå»¶è¿Ÿå¤„ç†,åœ¨deferå½’å±çš„å‡½æ•°å³å°†è¿”å›æ—¶ï¼Œå°†å»¶è¿Ÿå¤„ç†çš„è¯­å¥æŒ‰deferå®šä¹‰çš„é€†åºè¿›è¡Œæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆè¢«deferçš„è¯­å¥æœ€åè¢«æ‰§è¡Œï¼Œæœ€åè¢«deferçš„è¯­å¥ï¼Œæœ€å…ˆè¢«æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š func deferDemo() { println(\"Hello\") defer println(\"defer 1\") defer println(\"defer 2\") println(\"World\") } /* Hello World defer 2 defer 1 */ å…¶æ‰§è¡ŒåŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç”±äºdeferè¯­å¥çš„è¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨deferåé¢æ‰§è¡Œä¾‹å¦‚èµ„æºæ¸…ç†ã€é”™è¯¯å¤„ç†ã€è§£é”ç­‰æ“ä½œã€‚ ","date":"2024-11-08","objectID":"/go-basic2/:2:3","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"ç»“æ„ä½“ goä¸­ç»“æ„ä½“çš„å®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š type StructName struct { a1 int b1 string ... } å…¶ä¸­ï¼š StructNameç»“æ„ä½“ååœ¨åŒä¸€ä¸ªåŒ…å†…ä»…èƒ½æœ‰ä¸€ä¸ªï¼Œä¸èƒ½é‡å¤ a1,b1ç§°ä¸ºå­—æ®µåï¼Œåœ¨æ¯ä¸ªç»“æ„ä½“å†…å”¯ä¸€ï¼Œä¸èƒ½é‡å¤ ä¾‹å¦‚ï¼š type person struct { name string age int sex int } å½“æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªç»“æ„ä½“åï¼Œå¦‚ä½•å®ä¾‹åŒ–ï¼š var p person æˆ– p := new(person) æˆ– p := \u0026person{} åé¢ä¸¤ç§å¾—åˆ°çš„æ˜¯ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œä½†æ˜¯å¯¹äºç»“æ„ä½“è€Œè¨€ï¼Œå¹¶ä¸éœ€è¦åƒC++ä¸­éœ€è¦(*p).name=\"John\"æ¥ä¿®æ”¹å±æ€§ï¼Œåªéœ€è¦p.name=Johnå°±è¡Œã€‚ æ—¢ç„¶å˜é‡æœ‰åŒ¿åå˜é‡ï¼Œç»“æ„ä½“ä¹Ÿä¼šæœ‰åŒ¿åç»“æ„ä½“ï¼š var user = struct {name string, age int}{ \"yizhigopher\", 12, } ä¸Šé¢è¿™æ®µä»£ç ä¸ä»…å±•ç¤ºäº†åŒ¿åç»“æ„ä½“çš„ç”¨æ³•ï¼Œè¿˜å±•ç¤ºäº†ç»“æ„ä½“åˆå§‹åŒ–çš„ä¸€ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼é€šè¿‡ç›´æ¥æŒ‰ç€ç»“æ„ä½“å±æ€§çš„é¡ºåºèµ‹å€¼å³å¯ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•å¿…é¡»å¯¹æ‰€æœ‰å±æ€§éƒ½åˆå§‹åŒ–ï¼‰ã€‚ æ¥ä¸‹æ¥å±•ç¤ºå…¶ä»–åˆå§‹åŒ–çš„æ–¹æ³•ï¼š var p person p.name = \"yizhigopher\" // æˆ– p := person{ name: \"yizhigopher\", age: 22, } // æˆ– p := \u0026person{ name: \"yizhigopher\" } åœ¨goä¸­æ²¡æœ‰æ„é€ å‡½æ•°çš„è¯´æ³•ï¼Œéœ€è¦è‡ªå·±å®ç°æ„é€ å‡½æ•°ï¼š func newPerson() *person { return \u0026peroson{ name: \"yizhigopher\", age: 12, } } Goä¸­çš„ç»“æ„ä½“ç»§æ‰¿é€šè¿‡åŒ¿åç»“æ„ä½“æ¥å®ç°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š //Animal åŠ¨ç‰© type Animal struct { name string } //Dog ç‹— type Dog struct { Feet int8 *Animal //é€šè¿‡åµŒå¥—åŒ¿åç»“æ„ä½“å®ç°ç»§æ‰¿ } å…¶ä¸­å…³äºåŒ¿åç»“æ„ä½“éœ€è¦æ³¨æ„çš„å‡ ç‚¹æœ‰ï¼š å½“è®¿é—®ç»“æ„ä½“æˆå‘˜æ—¶ï¼Œä¼šå…ˆåœ¨ç»“æ„ä½“ä¸­æŸ¥æ‰¾è¯¥å­—æ®µï¼Œæ‰¾ä¸åˆ°å†å»åµŒå¥—çš„åŒ¿åå­—æ®µä¸­æŸ¥æ‰¾ã€‚ åµŒå¥—ç»“æ„ä½“å†…éƒ¨å¯èƒ½å­˜åœ¨ç›¸åŒçš„å­—æ®µåã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºäº†é¿å…æ­§ä¹‰éœ€è¦é€šè¿‡æŒ‡å®šå…·ä½“çš„å†…åµŒç»“æ„ä½“å­—æ®µåã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œç»“æ„ä½“è¿˜æœ‰ä¸€ä¸ªç©¶æå¤§æ€å™¨ï¼Œç§°ä¸ºç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰ã€‚Tagæ˜¯ç»“æ„ä½“çš„å…ƒä¿¡æ¯ï¼Œå¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™é€šè¿‡åå°„çš„æœºåˆ¶è¯»å–å‡ºæ¥ã€‚ Tagåœ¨ç»“æ„ä½“å­—æ®µçš„åæ–¹å®šä¹‰ï¼Œç”±ä¸€å¯¹åå¼•å·åŒ…è£¹èµ·æ¥ï¼Œå…·ä½“çš„æ ¼å¼å¦‚ä¸‹ï¼š `key1:\"value1\" key2:\"value2\"` éœ€è¦æ³¨æ„çš„æ˜¯ï¼š ç»“æ„ä½“tagç”±ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ç»„æˆã€‚é”®ä¸å€¼ä½¿ç”¨å†’å·åˆ†éš”ï¼Œå€¼ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚åŒä¸€ä¸ªç»“æ„ä½“å­—æ®µå¯ä»¥è®¾ç½®å¤šä¸ªé”®å€¼å¯¹tagï¼Œä¸åŒçš„é”®å€¼å¯¹ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ã€‚ ä¸ºç»“æ„ä½“ç¼–å†™Tagæ—¶ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆé”®å€¼å¯¹çš„è§„åˆ™=ï¼Œä¸€æ—¦æ ¼å¼å†™é”™ï¼Œç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸ä¼šæç¤ºä»»ä½•é”™è¯¯ï¼Œé€šè¿‡åå°„ä¹Ÿæ— æ³•æ­£ç¡®å–å€¼ã€‚ä¾‹å¦‚ä¸è¦åœ¨keyå’Œvalueä¹‹é—´æ·»åŠ ç©ºæ ¼ã€‚ æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥å±•ç¤ºtagçš„èƒ½åŠ›ï¼š //Student å­¦ç”Ÿ type Student struct { ID int `json:\"id\"` //é€šè¿‡æŒ‡å®štagå®ç°jsonåºåˆ—åŒ–è¯¥å­—æ®µæ—¶çš„key Gender string //jsonåºåˆ—åŒ–æ˜¯é»˜è®¤ä½¿ç”¨å­—æ®µåä½œä¸ºkey name string //ç§æœ‰ä¸èƒ½è¢«jsonåŒ…è®¿é—® } func main() { s1 := Student{ ID: 1, Gender: \"ç”·\", name: \"yizhigopher\", } data, err := json.Marshal(s1) if err != nil { fmt.Println(\"json marshal failed!\") return } fmt.Printf(\"json str:%s\\n\", data) //json str:{\"id\":1,\"Gender\":\"ç”·\"} } ","date":"2024-11-08","objectID":"/go-basic2/:3:0","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"æ–¹æ³• goè¯­è¨€ä¸­ï¼Œæ–¹æ³•ä¸OOPä¸­çš„æˆå‘˜æ–¹æ³•ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§ä½œç”¨äºç‰¹å®šç±»å‹å˜é‡çš„å‡½æ•°ã€‚è¿™ç§ç‰¹å®šç±»å‹å˜é‡å«åšæ¥æ”¶è€…ï¼ˆReceiverï¼‰ã€‚æ¥æ”¶è€…çš„æ¦‚å¿µå°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„thisæˆ–è€…selfï¼Œå…·ä½“å®šä¹‰çš„æ ¼å¼å¦‚ä¸‹ï¼š func (æ¥å—è€…å˜é‡ æ¥å—è€…ç±»å‹) æ–¹æ³•å(å‚æ•°åˆ—è¡¨) (è¿”å›å‚æ•°) { å‡½æ•°ä½“ } å¯ä»¥å‘ç°ï¼Œæ–¹æ³•å’Œå‡½æ•°ä¹‹é—´åœ¨è¡¨è¾¾å½¢å¼ä¸Šçš„åŒºåˆ«ï¼Œå°±æ˜¯åœ¨å‡½æ•°åå‰é¢å¢åŠ äº†ä¸€æ®µç”¨äºç”³æ˜æ¥å—è€…ç±»å‹çš„è¯­å¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼š æ¥æ”¶è€…ä¸­çš„å‚æ•°å˜é‡ååœ¨å‘½åæ—¶ï¼Œå»ºè®®ä½¿ç”¨æ¥æ”¶è€…ç±»å‹åç§°é¦–å­—æ¯çš„å°å†™ï¼Œè€Œä¸æ˜¯selfã€thisä¹‹ç±»çš„å‘½åã€‚ä¾‹å¦‚ï¼ŒPersonç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸º pï¼ŒConnectorç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸ºcç­‰ã€‚ æ¥æ”¶è€…ç±»å‹å’Œå‚æ•°ç±»ä¼¼ï¼Œå¯ä»¥æ˜¯æŒ‡é’ˆç±»å‹å’ŒéæŒ‡é’ˆç±»å‹ã€‚ éæœ¬åœ°ç±»å‹ä¸èƒ½å®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½ç»™åˆ«çš„åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ åœ¨Goè¯­è¨€ä¸­ï¼Œæ¥æ”¶è€…çš„ç±»å‹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯ç»“æ„ä½“ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥æ‹¥æœ‰æ–¹æ³•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åŸºäºå†…ç½®çš„intç±»å‹ä½¿ç”¨typeå…³é”®å­—å¯ä»¥å®šä¹‰æ–°çš„è‡ªå®šä¹‰ç±»å‹ï¼Œç„¶åä¸ºæˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ·»åŠ æ–¹æ³•ã€‚ type MyInt int func (m MyInt) SayHello() { fmt.Println(\"Hello, æˆ‘æ˜¯ä¸€ä¸ªintã€‚\") } å½“æ¥å—è€…ç±»å‹æ˜¯æŒ‡é’ˆç­‰å¼•ç”¨ç±»å‹æ—¶ï¼Œæ–¹æ³•å†…å¯¹äºæ¥å—è€…çš„ä¿®æ”¹æ˜¯ç›´æ¥ä½œç”¨äºæ¥å—è€…çš„ã€‚ä½†æ˜¯å¦‚æœæ¥å—è€…ç±»å‹æ˜¯æŒ‡ç±»å‹ï¼Œé‚£ä¹ˆæ˜¯ä½œç”¨äºæ¥å—è€…copyåçš„å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡ä¸‹å±ä¾‹å­ä½“ç°å…¶ä¸­çš„åŒºåˆ«ï¼š func (p *Person) SetAge(newAge int8) { p.age = newAge } func (p Person) SetAge2(newAge int8) { p.age = newAge } æˆ‘ä»¬åº”å½“åœ¨ä»¥ä¸‹è¿™äº›æƒ…å†µï¼Œä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥å—è€…ï¼š éœ€è¦ä¿®æ”¹æ¥æ”¶è€…ä¸­çš„å€¼ æ¥æ”¶è€…æ˜¯æ‹·è´ä»£ä»·æ¯”è¾ƒå¤§çš„å¤§å¯¹è±¡ ä¿è¯ä¸€è‡´æ€§ï¼Œå¦‚æœæœ‰æŸä¸ªæ–¹æ³•ä½¿ç”¨äº†æŒ‡é’ˆæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå…¶ä»–çš„æ–¹æ³•ä¹Ÿåº”è¯¥ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…ã€‚ ","date":"2024-11-08","objectID":"/go-basic2/:4:0","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"æ¨èé˜…è¯»ï¼š Goç»“æ„ä½“çš„å†…å­˜å¸ƒå±€ é€šè¿‡å…«ä¸ªdemoææ˜ç™½Goè¯­è¨€deferçš„äº”å¤§ç‰¹æ€§ Go Tagæ ‡ç­¾è¯¦è§£ ","date":"2024-11-08","objectID":"/go-basic2/:5:0","tags":["golang","study"],"title":"GoæŒ‡é’ˆã€å‡½æ•°ã€ç»“æ„ä½“ã€æ¥å£ä»¥åŠæ–¹æ³•","uri":"/go-basic2/"},{"categories":["golangä¹‹è·¯"],"content":"ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬å·²ç»ç®€å•ä»‹ç»äº†ä¸€ä¸ªæœ€ç®€å•çš„goç¨‹åºä»¥åŠå…³äºå˜é‡ä»¥åŠå¸¸é‡çš„å®šä¹‰ã€‚æœ¬ç« èŠ‚å°†ä¼šç»§ç»­æå°‘goçš„åŸºç¡€çŸ¥è¯†ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:0:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"åŸºæœ¬è¿ç®—ç¬¦ goçš„åŸºç¡€è¿ç®—ç¬¦åŒ…å« æ•°å€¼è®¡ç®—ï¼šåŠ +ï¼Œå‡-ï¼Œä¹˜*ï¼Œé™¤/ï¼Œæ±‚ä½™% é€»è¾‘è®¡ç®—ï¼šä¸\u0026\u0026ï¼Œæˆ–||ï¼Œé! ä½è¿ç®—ç¬¦å·ï¼š\u0026ï¼Œ|ï¼Œ^ï¼Œ\u003e\u003eï¼Œ\u003c\u003c å…³ç³»è¿ç®—ç¬¦ï¼šç›¸ç­‰==ï¼Œä¸ç­‰äº!=ï¼Œå¤§äº\u003eï¼Œå¤§äºç­‰äº\u003e=ï¼Œå°äº\u003cï¼Œå°äºç­‰äº\u003c= ","date":"2024-11-08","objectID":"/go-basic/:1:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"æµç¨‹æ§åˆ¶ ","date":"2024-11-08","objectID":"/go-basic/:2:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"if-elseåˆ†æ”¯ç»“æ„ if-elseåˆ†æ”¯åˆ¤æ–­ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š if åˆ¤æ–­1 { è¯­å¥1 } else if åˆ¤æ–­2{ è¯­å¥2 } else { è¯­å¥3 } éœ€è¦æ³¨æ„çš„æ˜¯ï¼š èŠ±æ‹¬å·ä¸èƒ½æ¢è¡Œï¼Œå¿…é¡»å’Œifåœ¨åŒä¸€è¡Œå†… èŠ±æ‹¬å·æ˜¯ä¸å¯ä»¥çœç•¥çš„ï¼Œå³ä½¿è¯­å¥1ä¸­åªæœ‰1ä¸ªè¯­å¥ åœ¨goä¸­if-elseè¿˜æœ‰ä¸€ç§ç‰¹æ®Šä¸”å¸¸ç”¨çš„å†™æ³•ï¼š func ifDemo() { if score := 65; score \u003e= 90 { fmt.Println(\"A\") } else if score \u003e 75 { fmt.Println(\"B\") } else { fmt.Println(\"C\") } } æˆ‘ä»¬å¯ä»¥åœ¨ifè¡¨è¾¾å¼ä¹‹å‰æ·»åŠ ä¸€ä¸ªæ‰§è¡Œè¯­å¥ï¼Œå†æ ¹æ®å˜é‡å€¼è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶ä¸”è¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸä»…åœ¨è¿™æ®µif-elseè¯­å¥ä¸­ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:2:1","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"å¾ªç¯ç»“æ„ goä¸­æ‰€æœ‰çš„å¾ªç¯å‡é€‚ç”¨foræ¥å®ç°ï¼Œä¸ä¼šæœ‰whileä»¥åŠdo-untilç»“æ„ã€‚ forå¾ªç¯çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹ for åˆå§‹è¯­å¥;ç»ˆæ­¢è¯­å¥;æ¯æ­¥æ›´æ–°å†…å®¹ { ... } å…¶ä¸­åˆå§‹è¯­å¥ã€ç»ˆæ­¢è¯­å¥ä»¥åŠæ¯æ­¥æ›´æ–°å†…å®¹éƒ½ä¸æ˜¯å¿…å¡«é¡¹ã€‚ ä¾‹å¦‚: for i := 0; i\u003c 10; i++ { print(i) } // ----------------------- i := 0 for i \u003c 10 { print(i) i++ } // ----------------------- i := 0 for { if i \u003e= 10 { break } print(i) i += 1 } ä»¥ä¸Šä¸‰ç§å†™æ³•å‡æ˜¯ç­‰ä»·çš„ã€‚ æ­¤å¤–è¿˜æœ‰for-rangeéå†ç»“æ„ï¼š for k,v := range variable { } å…¶ä¸­variableå¯ä»¥æ˜¯map,string,slice,arrayç­‰ç±»å‹ï¼Œkè¡¨ç¤ºç´¢å¼•ï¼Œvè¡¨ç¤ºç´¢å¼•å¯¹åº”çš„å€¼ã€‚ åœ¨go1.22ç‰ˆæœ¬ä¸­å¯¹å¾ªç¯ç»“æ„å¢åŠ äº†å‡ ä¸ªç‰¹æ€§ã€‚ é¦–å…ˆæ˜¯å¢åŠ äº†å¯¹æ•´æ•°rangeçš„æ–°ç‰¹æ€§ï¼Œä¸Šè¿°ä»£ç ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š for i := range 10 { print(i) } æ­¤å¤–å»é™¤äº†for-rangeä¸åœ¨å…±äº«å¾ªç¯å˜é‡ï¼Œåœ¨go1.16å’Œgo1.22ä¸¤ä¸ªç‰ˆæœ¬ä¸­åˆ†åˆ«è¿è¡Œä¸€ä¸‹ä»£ç ï¼Œæ‰§è¡Œç»“æœä¼šæœ‰æ‰€ä¸åŒã€‚ list := []int{1, 2, 3, 4, 5} for _, val := range list { go func() { print(val) }() } æ—§ç‰ˆæœ¬ä¸­forå¾ªç¯è¿­ä»£å™¨çš„å˜é‡æ˜¯ä¸€ä¸ªå•ä¸€å˜é‡ï¼Œåœ¨æ¯ä¸ªå¾ªç¯è¿­ä»£ä¸­ä»…æ˜¯å–å€¼ä¸åŒã€‚è¿™æ ·åšåœ¨æ€§èƒ½ä¸Šéå¸¸é«˜æ•ˆï¼Œä½†å¦‚æœä½¿ç”¨ä¸å½“ï¼Œä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºï¼Œå¯èƒ½ä¼šé€ æˆå…±äº«å¾ªç¯å˜é‡çš„é—®é¢˜ã€‚è€Œgo1.22ä¸­ï¼Œforå¾ªç¯çš„æ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ›å»ºæ–°å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯è‡ªå·±è¿­ä»£è‡ªå·±çš„å˜é‡ï¼Œä»¥é¿å…æ„å¤–å…±äº«é”™è¯¯ã€‚å…³äºè¿™æ–¹é¢çš„çŸ¥è¯†å¯ä»¥é˜…è¯»è¿™ç¯‡åšå®¢ ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:2:2","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"æ•°ç»„ä¸åˆ‡ç‰‡ ","date":"2024-11-08","objectID":"/go-basic/:3:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"æ•°ç»„(Array) æ•°ç»„æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹å…ƒç´ çš„é›†åˆã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œæ•°ç»„ä»å£°æ˜æ—¶å°±ç¡®å®šï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¿®æ”¹æ•°ç»„æˆå‘˜ï¼Œä½†æ˜¯æ•°ç»„å¤§å°ä¸å¯å˜åŒ–ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š var a [3]int // {0, 0, 0} var cities [3]string{\"Shanghai\", \"Beijing\"} // {\"Shanghai\", \"Beijing\", \"\"} var deduce [...]int{1, 2, 3} // æ•°ç»„å¤§å°å°±æ˜¯3äº† var matrix [2][3]int{ {1, 2, 3}, {4, 5, 6}, } å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®ç°æ•°ç»„çš„éå†ï¼š for i := 0; i \u003c len(cities); i++ { print(cities[i]) } for _, val := range cities { print(val) } éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªæ•°ç»„ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆä»…ä¼šcopyå€¼åˆ°å¦ä¸€ä¸ªå˜é‡ä¸­ï¼Œè€Œä¸æ˜¯ä¼ é€’ä¸€ä¸ªå¼•ç”¨ã€‚ func modifyArray(x [3]int) { x[0] = 100 } func modifyArray2(x [3][2]int) { x[2][0] = 100 } func main() { a := [3]int{10, 20, 30} modifyArray(a) //åœ¨modifyä¸­ä¿®æ”¹çš„æ˜¯açš„å‰¯æœ¬x fmt.Println(a) //[10 20 30] b := [3][2]int{ {1, 1}, {1, 1}, {1, 1}, } modifyArray2(b) //åœ¨modifyä¸­ä¿®æ”¹çš„æ˜¯bçš„å‰¯æœ¬x fmt.Println(b) //[[1 1] [1 1] [1 1]] } [n]Tè¡¨ç¤ºæŒ‡é’ˆæ•°ç»„ï¼Œ[n]Tè¡¨ç¤ºæ•°ç»„æŒ‡é’ˆ ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:3:1","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"åˆ‡ç‰‡(Array) ç”±äºæ•°ç»„é•¿åº¦ä¸å¯å˜ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›goä¸­èƒ½æœ‰ä¸ªåƒvectorçš„ç±»å‹ï¼Œèƒ½å¤Ÿæ”¯æŒå¯å˜é•¿åº¦ã€‚ åˆ‡ç‰‡ï¼ˆSliceï¼‰æ˜¯ä¸€ä¸ªæ‹¥æœ‰ç›¸åŒç±»å‹å…ƒç´ çš„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚å®ƒæ˜¯åŸºäºæ•°ç»„ç±»å‹åšçš„ä¸€å±‚å°è£…ã€‚å®ƒéå¸¸çµæ´»ï¼Œæ”¯æŒè‡ªåŠ¨æ‰©å®¹ã€‚ åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å†…éƒ¨ç»“æ„åŒ…å«åœ°å€ã€é•¿åº¦å’Œå®¹é‡ã€‚åˆ‡ç‰‡ä¸€èˆ¬ç”¨äºå¿«é€Ÿåœ°æ“ä½œä¸€å—æ•°æ®é›†åˆã€‚ç”³æ˜åˆ‡ç‰‡å˜é‡å¦‚ä¸‹ï¼š var x []T var a []int{1, 2, 3} var slice = make([]int, 3, 10) // å®šä¹‰äº†len==3ï¼Œcap==10çš„åˆ‡ç‰‡ makeå‡½æ•°ä»…ç”¨æ¥åˆå§‹åŒ–slice, mapä»¥åŠchanä¸‰ç§ç±»å‹çš„å˜é‡ åˆ‡ç‰‡æ‹¥æœ‰è‡ªå·±çš„é•¿åº¦å’Œå®¹é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å†…ç½®çš„len()å‡½æ•°æ±‚é•¿åº¦ï¼Œä½¿ç”¨å†…ç½®çš„cap()å‡½æ•°æ±‚åˆ‡ç‰‡çš„å®¹é‡ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ•°ç»„ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ var x [5]int{1, 2, 3, 4, 5} b := x[3:5] // å·¦é—­å³å¼€ã€‚ åˆ‡ç‰‡çš„æœ¬è´¨å°±æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å°è£…ï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªä¿¡æ¯ï¼šåº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡çš„é•¿åº¦ï¼ˆlenï¼‰å’Œåˆ‡ç‰‡çš„å®¹é‡ï¼ˆcapï¼‰ã€‚å› æ­¤åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©ºï¼Œåº”å½“å¦‚ä¸‹ï¼š if len(s) == 0 { } è€Œä¸æ˜¯s==nilï¼Œå¦‚æœè¿™ä¹ˆæ¯”è¾ƒçš„è¯ï¼Œå®é™…ä¸Šæ˜¯åœ¨åˆ¤æ–­æŒ‡é’ˆæ˜¯å¦ä¸ºç©ºã€‚ä¾‹å¦‚ï¼š var s1 []int //len(s1)=0;cap(s1)=0;s1==nil s2 := []int{} //len(s2)=0;cap(s2)=0;s2!=nil s3 := make([]int, 0) //len(s3)=0;cap(s3)=0;s3!=nil ç”±ç”±äºåˆ‡ç‰‡æ˜¯æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆï¼Œå› æ­¤å¦‚æœcopyï¼Œé‚£ä¹ˆå¯¹copyåçš„å˜é‡è¿›è¡Œä¿®æ”¹ï¼ŒåŸå…ˆçš„å˜é‡ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¸¾ä¸ªä¾‹å­ï¼š package main import \"fmt\" func sliceFunc(s []int, val int) { s[0] = val } func main() { var list = [5]int{1, 2, 3, 4, 5} s1 := list[0:3] s2 := list[:] s3 := s2 sliceFunc(s1, 6) fmt.Println(list) //[6 2 3 4 5] for _, val := range s1 { print(val, \" \") } println() //6 2 3 for _, val := range s2 { print(val, \" \") } println() // 6 2 3 4 5 for _, val := range s3 { print(val, \" \") } println() // 6 2 3 4 5 } å› æ­¤ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åˆ‡ç‰‡æ—¶ï¼Œæœ€å¥½éµå¾ªæ‰€æœ‰æƒçš„å”¯ä¸€æ€§åŸåˆ™ï¼ˆè¿™åœ¨Rustä¸­è¢«çº³å…¥è¯­æ³•èŒƒå›´ä¸­ï¼‰ï¼Œå³å¯¹äºå†…å­˜ä¸­çš„æŸä¸ªæ•°æ®ï¼ŒåŒä¸€æ—¶åˆ»ä¸€ä¸ªå€¼åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚ æ—¢ç„¶åˆ‡ç‰‡çš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å¢åŠ åˆ‡ç‰‡çš„å…ƒç´ å‘¢ï¼š func main() { //append()æ·»åŠ å…ƒç´ å’Œåˆ‡ç‰‡æ‰©å®¹ var numSlice []int for i := 0; i \u003c 10; i++ { numSlice = append(numSlice, i) fmt.Printf(\"%v len:%d cap:%d ptr:%p\\n\", numSlice, len(numSlice), cap(numSlice), numSlice) } } ä½¿ç”¨å†…ç½®çš„appendå‡½æ•°å³å¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªåˆ‡ç‰‡ä¼šæŒ‡å‘ä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å®¹é‡å¤Ÿç”¨å°±æ·»åŠ æ–°å¢å…ƒç´ ã€‚å½“åº•å±‚æ•°ç»„ä¸èƒ½å®¹çº³æ–°å¢çš„å…ƒç´ æ—¶ï¼Œåˆ‡ç‰‡å°±ä¼šè‡ªåŠ¨æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥è¿›è¡Œâ€œæ‰©å®¹â€ï¼Œæ­¤æ—¶è¯¥åˆ‡ç‰‡æŒ‡å‘çš„åº•å±‚æ•°ç»„å°±ä¼šæ›´æ¢ã€‚â€œæ‰©å®¹â€æ“ä½œå¾€å¾€å‘ç”Ÿåœ¨append()å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½éœ€è¦ç”¨åŸå˜é‡æ¥æ”¶appendå‡½æ•°çš„è¿”å›å€¼ã€‚ å…³äºæ¯æ¬¡æ‰©å®¹å¯¹capä¿®æ”¹çš„ç­–ç•¥ï¼Œå¯ä»¥å‚è€ƒ${GOROOT}/src/runtime/slice.goçš„æºç ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šå±•å¼€ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:3:2","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"å­—å…¸(map) mapæ˜¯ä¸€ç§æ— åºçš„åŸºäºkey-valueçš„æ•°æ®ç»“æ„ï¼ŒGoè¯­è¨€ä¸­çš„mapæ˜¯å¼•ç”¨ç±»å‹ï¼Œå¿…é¡»åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨ã€‚ var stuMap map[string]int stuMap = make(map[string]int) stuMap[\"Tom\"] = 24 exampleMap := map[string]string{ \"code\": \"23\", \"message\": \"Query success!\", } æ€è€ƒä¸‹[]map[string]intå’Œmap[string][]intä¹‹é—´çš„åŒºåˆ« å¦‚ä½•åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨ï¼š _, ok := m[key] if !ok{ println(\"key is not existed!\") } å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•åˆ å»mapä¸­çš„æŸä¸ªé”®ï¼š delete(m, key) ","date":"2024-11-08","objectID":"/go-basic/:4:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"æ€è€ƒ package main import \"fmt\" func main() { type Map map[string][]int m := make(Map) s := []int{1, 2} s = append(s, 3) fmt.Printf(\"%+v\\n\", s) m[\"q1mi\"] = s s = append(s[:1], s[2:]...) fmt.Printf(\"%+v\\n\", s) fmt.Printf(\"%+v\\n\", m[\"q1mi\"]) } å°è¯•å†™å‡ºä¸Šé¢è¿™æ®µä»£ç çš„ç»“æœï¼Œä»è€Œæ·±åˆ»ç†è§£æœ¬ç« èŠ‚æ‰€é˜è¿°çš„å†…å®¹ã€‚ ","date":"2024-11-08","objectID":"/go-basic/:5:0","tags":["golang","study"],"title":"GoåŸºæœ¬è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶ã€æ•°ç»„ä¸åˆ‡ç‰‡ä»¥åŠå­—å…¸","uri":"/go-basic/"},{"categories":["golangä¹‹è·¯"],"content":"åœ¨å®Œæˆäº†ä¸Šä¸ªç« èŠ‚çš„Goç¼–è¯‘å™¨å®‰è£…åï¼Œæœ¬ç« èŠ‚å°†ä»‹ç»Goçš„åŸºç¡€è¯­æ³•ï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­è¿›è¡Œå±•ç¤ºã€‚ Hello World å­¦ä¹ æ¯ä¸ªè¯­è¨€çš„ç¬¬ä¸€æ­¥æ°¸è¿œæ˜¯å­¦ä¼šå¦‚ä½•åœ¨æ§åˆ¶å°æ‰“å°ğŸ˜Šï¼Œç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹goå¦‚ä½•å®ç°Hello Worldï¼š // main.go package main import \"fmt\" func main(){ fmt.Println(\"Hello World!\") } åœ¨æœ¬æ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œåœ¨æ§åˆ¶å°ä¸­æ‰§è¡Œgo build main.go \u0026\u0026 mainæˆ–go run main.goè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºçš„ç»“æœã€‚ æˆ‘ä»¬é€è¡Œåˆ†æè¯´æ˜ï¼š ç¬¬1è¡Œä½¿ç”¨package mainç”³æ˜è¿™æ˜¯ä¸€ä¸ªä¸»åŒ…ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸»åŒ…ä¸‹é¢å®šä¹‰func main()å‡½æ•°ï¼Œç”¨äºå£°æ˜ç¨‹åºå…¥å£ã€‚ ç¬¬3è¡Œä½¿ç”¨importæ¥å¯¼å…¥å¤–éƒ¨åŒ…\"fmt\"ï¼Œè¯¥åŒ…é€šå¸¸ç”¨äºå®ç°æ ¼å¼åŒ–çš„I/Oæ“ä½œï¼Œè¿™ä¸ªä¸Cçš„\u003ccstdio\u003eç›¸ä¼¼ã€‚ ç¬¬5è¡Œä½¿ç”¨func main()æ¥ç”³æ˜ç¼–è¯‘å…¥å£ä»¥åŠç¨‹åºæ‰§è¡Œçš„å¼€å§‹ä½ç½®ã€‚ ç¬¬6è¡Œä½¿ç”¨fmt.Println(\"Hello World!\")å‘æ§åˆ¶å°è¾“å‡ºHello World! é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘ä»¬ä»‹ç»ä¸‹goè¯­è¨€ä¸€ä¸ªç¨‹åºæ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼š åŒ…åã€‚æ¯ä¸ªgoç¨‹åºéƒ½éœ€è¦ç”³æ˜è¯¥ç¨‹åºæ‰€å±çš„åŒ…ï¼Œåœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ‰€æœ‰ä»£ç çš„åŒ…åå‡ä¸ºmainï¼Œè€Œå¯¹äºgoçš„åŒ…ç®¡ç†æ–¹å¼ï¼Œæˆ‘ä»¬å°†åœ¨åç»­çš„ç« èŠ‚ä¸­è¿›è¡Œä»‹ç»ã€‚ å¯¼å…¥å¤–éƒ¨åŒ…ã€‚æƒ³è¦å®ç°ä¸€æ®µä»£ç ï¼Œä¸å¯é¿å…éœ€è¦è°ƒç”¨å·²ç»å°è£…å¥½çš„ç¨‹åºï¼Œå› æ­¤é€šè¿‡importæ¥å¯¼å…¥ä¸€äº›å¿…è¦çš„å¤–éƒ¨åŒ…ï¼Œä¾‹å¦‚æœ¬ä¾‹å­ä¸­çš„fmtï¼Œä»¥åŠä¸€äº›å¸¸ç”¨çš„bytesï¼Œnetç­‰ï¼Œè¿™äº›å‡æ˜¯å·²ç»å°è£…å¥½çš„æ ‡å‡†åº“ã€‚è¿™äº›æ ‡å‡†åº“çš„ä½ç½®åœ¨${GOROOT}/srcä¸­ å‡½æ•°ã€‚goè¯­è¨€å‡½æ•°ç”³æ˜æ ¼å¼ä¸ºfunc functionName(args)å¹¶ç”¨èŠ±æ‹¬å·åŒ…è£¹å‡½æ•°ä½“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åƒC++å¯ä»¥å°†èŠ±æ‹¬å·æ¢è¡Œï¼Œgoè¯­è¨€ä¸­èŠ±æ‹¬å·çš„æ¢è¡Œæ˜¯ä¸å…è®¸æ¢è¡Œçš„ï¼Œå¹¶ä½¿ç”¨tabè¿›è¡Œä»£ç ç¼©è¿›ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»‹ç»goçš„åŸºæœ¬è¯­æ³• GOåŸºæœ¬è¯­æ³• ","date":"2024-10-30","objectID":"/go-hello/:0:0","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"å˜é‡å’Œå¸¸é‡ ","date":"2024-10-30","objectID":"/go-hello/:1:0","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"å˜é‡ å˜é‡å®šä¹‰å¦‚ä¸‹æ–¹å¼å¦‚ä¸‹ï¼š var a int var a int = 10 var a = 10 a := 10 ä¸Šè¿°ä¸º4ç§ä¸åŒè¡¨è¾¾å½¢å¼çš„å˜é‡ç”³æ˜æ–¹å¼ï¼Œå…¶ä¸­aä¸ºå˜é‡åï¼Œintä¸ºå˜é‡ç±»å‹ï¼Œåä¸¤ç§æ–¹å¼ä¸­ï¼Œgoèƒ½å¤Ÿè‡ªåŠ¨æ¨ç†å‡ºå„ä¸ªå˜é‡çš„ç±»å‹ã€‚ goçš„å˜é‡åå¯ä»¥ç”¨26ä¸ªè‹±æ–‡å­—æ¯ï¼Œ_ä»¥åŠæ•°å­—ç»„åˆè€Œæˆ æ•°å­—ä¸èƒ½ä½œä¸ºå˜é‡çš„èµ·å§‹å­—ç¬¦ æ­¤å¤–goä¸­å­˜åœ¨ä¸€äº›å…³é”®å­—ï¼Œå…¶å…·å¤‡ç‰¹æ®Šå«ä¹‰ï¼ŒåŒ…å«ä¸€ä¸‹25ä¸ªï¼Œè¿™äº›å•è¯ä¸èƒ½ä½œä¸ºå˜é‡åï¼š break default func interface select case defer go map struct chan else goto package switch const fallthrough if range type continue for import return var æ­¤å¤–è¿˜å­˜åœ¨ä¸€äº›ä¿ç•™å­—ï¼Œè¿™äº›åŒæ ·ä¸å»ºè®®ä½œä¸ºå˜é‡åï¼š Constants: true false iota nil Types: int int8 int16 int32 int64 uint uint8 uint16 uint32 uint64 uintptr float32 float64 complex128 complex64 bool byte rune string error Functions: make len cap new append copy close delete complex real imag panic recover å¦‚æœéœ€è¦å®šä¹‰å¤šä¸ªå˜é‡å¯ä»¥å¦‚æ­¤å£°æ˜ï¼š var ( a int = 19 b bool = true ) æˆ– var ( a = 10 b = false ) ","date":"2024-10-30","objectID":"/go-hello/:1:1","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"å¸¸é‡å®šä¹‰ ä¸å˜é‡å®šä¹‰ç±»ä¼¼ï¼Œå¯ä»¥å¦‚æ­¤å®šä¹‰ const a int = 10 const a = 10 // notice the type of a is 'untyped int' const ( a = 10 b string = \"12a\" ) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¸¸é‡çš„æ‰¹é‡å®šä¹‰ä¸­ï¼Œå¦‚æœæ²¡æœ‰ç¡®å®šå¸¸é‡çš„ç±»å‹ï¼Œgoå¹¶ä¸ä¼šç›´æ¥æ¨åˆ°å‡ºå¸¸é‡çš„ç±»å‹ï¼Œè€Œæ˜¯untyped ...ï¼Œå…³äºè¿™ä¸ªé—®é¢˜å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ ï¼Œå¯¹äºuntypedå¸¸é‡ä¼šå¯¼è‡´çš„é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹ç–‘æƒ‘: Go const å¯¼è‡´ç¨‹åºç»“æœé”™ä¹±? ","date":"2024-10-30","objectID":"/go-hello/:1:2","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"å¤šé‡èµ‹å€¼ è¿™ä¸ªç‰¹ç‚¹æœ‰ç‚¹åƒjsä¸­çš„å¤šé‡èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš x, y, z := 1, 2, 3 è¿™æ—¶ï¼Œxçš„å€¼ä¸º1ï¼Œyçš„å€¼å°±ä¸º2ï¼Œâ€¦â€¦ ä½ å¯ä»¥éšå¤„ä½¿ç”¨è¯¥æ–¹æ³•æ¥å®ç°å¤šé‡èµ‹å€¼ï¼Œä¾‹å¦‚å¯ä»¥ç”¨åœ¨å¸¸é‡å®šä¹‰ä¸­ ","date":"2024-10-30","objectID":"/go-hello/:1:3","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"åŒ¿åå˜é‡ goä¸­ä¼šä½¿ç”¨_æ¥è¡¨ç¤ºä¸€ä¸ªä»…ç”¨äºæ¥æ”¶ï¼Œä½†ä¸èƒ½ä½¿ç”¨çš„å˜é‡ï¼Œå¸¸ç”¨äºå½“æˆ‘ä»¬æƒ³è¦å¿½ç•¥å¤šé‡èµ‹å€¼ä¸­çš„æŸä¸ªå€¼æ—¶ã€‚ä¾‹å¦‚ï¼š x, _, z := 1, 2, 3 ","date":"2024-10-30","objectID":"/go-hello/:1:4","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["golangä¹‹è·¯"],"content":"iota iotaæ˜¯goè¯­è¨€çš„å¸¸é‡è®¡æ•°å™¨ï¼Œåªèƒ½åœ¨å¸¸é‡çš„è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚ iotaåœ¨constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º0ã€‚constä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿iotaè®¡æ•°ä¸€æ¬¡ã€‚ä½¿ç”¨iotaèƒ½ç®€åŒ–å®šä¹‰ï¼Œåœ¨å®šä¹‰æšä¸¾æ—¶å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š const ( a = iota // a = 0 b // b = 1 c // c = 2 ) æˆ– const ( _ = iota KB = 1\u003c\u003c(10*iota) MB GB ) å¯ä»¥å‘ç°ï¼Œåç»­çš„å¸¸é‡æ¨å¯¼ï¼Œå‡æ˜¯ä¾æ®ç¦»è¿™æ¡è¯­å¥æœ€è¿‘çš„iotaè¡¨è¾¾æ¥æ¨å¯¼çš„ã€‚ ä»£ç é£æ ¼ åœ¨goçš„ä»£ç ä¸­ï¼Œå˜é‡å‘½åçš„é£æ ¼é€šå¸¸å…·æœ‰ä¸€ä¸ªçº¦å®šä¿—æˆçš„è§„åˆ™ï¼Œè¿™é‡Œæˆ‘å°†æ€»ç»“ä¸€ä¸‹æˆ‘é‡åˆ°çš„ä¸€äº›è§„åˆ™ å¯¹äºå¸¸é‡åï¼Œä¸€èˆ¬å…¨éƒ¨å¤§å†™ï¼Œå¹¶ç”¨_éš”å¼€ï¼Œä¾‹å¦‚ï¼šMAX_CONNECTIONã€‚ å¯¹äºå˜é‡åä»¥åŠå‡½æ•°åï¼Œä¸€èˆ¬é‡‡ç”¨é©¼å³°é£æ ¼ï¼Œä¾‹å¦‚isHashedã€‚å¦‚æœéœ€è¦å°†è¿™ä¸ªå‡½æ•°æˆ–å˜é‡è®¾ä¸ºpublicï¼Œåˆ™å°†é¦–å­—æ¯ä¹Ÿå¤§å†™ã€‚ å½“ç„¶å˜é‡çš„å®šä¹‰æœ€å¥½èƒ½å¤Ÿç›´è§‚è¡¨ç°å…¶æ„ä¹‰ï¼Œæœ€å¥½åˆ«ç”¨æ‹¼éŸ³ã€æ— æ„ä¹‰çš„ä¸€ä¸ªå­—ç¬¦ä¸²æ¥å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚ ","date":"2024-10-30","objectID":"/go-hello/:1:5","tags":["golang","study"],"title":"Hello Go!","uri":"/go-hello/"},{"categories":["Docker"],"content":"ä¸ºäº†è¿›è¡Œå¤šä¸ªå®¹å™¨ä¹‹é—´é€šè®¯çš„å®éªŒï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªæœåŠ¡ï¼Œåˆ†åˆ«æ‰“åŒ…æˆä¸åŒçš„é•œåƒï¼Œå¹¶é€šè¿‡docker-composeè¿›è¡Œå®¹å™¨ç¼–æ’ã€‚æœ¬æ¬¡å®éªŒçš„é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š â”œâ”€â”€ client â”‚ â”œâ”€â”€ dockerfile â”‚ â”œâ”€â”€ index.html â”‚ â””â”€â”€ nginx.conf â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ microservice1 â”‚ â”œâ”€â”€ dockerfile â”‚ â”œâ”€â”€ main â”‚ â””â”€â”€ main.go â””â”€â”€ microservice2 â”œâ”€â”€ dockerfile â”œâ”€â”€ main â””â”€â”€ main.go microserviceåç«¯æœåŠ¡å®šä¹‰ æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªåç«¯æœåŠ¡ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š // microservice1/main.go package main import ( \"encoding/json\" \"net/http\" ) type Resp struct { Code int Message string } func main() { http.HandleFunc(\"/say_hello\", func(w http.ResponseWriter, r *http.Request) { w.Header().Set(\"Access-Control-Allow-Origin\", \"*\") //å…è®¸è®¿é—®æ‰€æœ‰åŸŸ w.Header().Add(\"Access-Control-Allow-Headers\", \"Content-Type\") //headerçš„ç±»å‹ w.Header().Set(\"content-type\", \"application/json\") var data Resp if r.Method != \"GET\" { data = Resp{ Code: 4000, Message: \"Only Allow GET Method!\", } } else { data = Resp{ Code: 2000, Message: \"Hello Microservice1\", } } resp, _ := json.Marshal(data) w.Write(resp) }) http.ListenAndServe(\":8080\", nil) } ç¼–è¯‘ä¸Šè¿°ä»£ç ï¼š GOOS=linux GOARCH=amd64 go build main.go å¦ä¸€ä¸ªåç«¯æœåŠ¡ä»£ç å¦‚ä¸‹ï¼š // microservice2/main.go package main import ( \"encoding/json\" \"net/http\" ) func main() { http.HandleFunc(\"/who_am_i\", func(w http.ResponseWriter, r *http.Request) { w.Header().Set(\"Access-Control-Allow-Origin\", \"*\") //å…è®¸è®¿é—®æ‰€æœ‰åŸŸ w.Header().Add(\"Access-Control-Allow-Headers\", \"Content-Type\") //headerçš„ç±»å‹ w.Header().Set(\"content-type\", \"application/json\") data := struct{ Code int Message string }{ Code: 2000, Message: \"I am yizhigopher!\", } resp, _ := json.Marshal(data) w.Write(resp) }) http.ListenAndServe(\":8080\", nil) } ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ç¼–è¯‘ä»£ç ã€‚ å¹¶ç¼–å†™å®¹å™¨buildè„šæœ¬ï¼Œæ¯ä¸ªåç«¯æœåŠ¡çš„dockerfileä¸€æ ·ï¼š FROM golang:1.23-alpine WORKDIR /app COPY ./main /app/microservice EXPOSE 8080 ENTRYPOINT [\"/app/microservice\"] å‰ç«¯ç•Œé¢å®šä¹‰ ä¸ºäº†ç›´è§‚ä½“ç°å‡ºä¸åŒå®¹å™¨ä¹‹é—´é€šè®¯ä½œç”¨ï¼Œæˆ‘ä»¬ç¼–å†™äº†å¦‚ä¸‹å‰ç«¯ä»£ç ï¼š \u003c!-- client/index.html --\u003e \u003c!DOCTYPE html\u003e \u003chtml lang=\"CH-ZN\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"\u003e \u003cscript src=\"https://code.jquery.com/jquery-3.7.1.min.js\"\u003e\u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cbutton onclick=\"say_hello()\" style=\"width:100px; height:20px\"\u003ecall say hello\u003c/button\u003e \u003cbr/\u003e \u003cbutton onclick=\"whoami()\" style=\"width:100px; height:20px\"\u003ecall who am i\u003c/button\u003e \u003c/body\u003e \u003c/html\u003e \u003cscript\u003e function say_hello() { $.ajax({ url: \"http://localhost/api/v1/say_hello\", type: \"GET\", dataType: \"json\", async: true, success: function(res) { console.log(res) }, error: function(param) { console.log(\"fail, error=\", param) } }) } function whoami() { $.ajax({ url: \"http://localhost/api/v2/who_am_i\", type: \"GET\", dataType: \"json\", async: true, success: function(res) { console.log(res) }, error: function(param) { console.log(\"fail, error=\", param) } }) } \u003c/script\u003e éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶ä¸­æ¯ä¸ªæ¥å£è¯·æ±‚çš„urlä¸ºï¼šhttp://localhost/api/v1/say_helloå’Œhttp://localhost/api/v2/who_am_iã€‚å¹¶ç¼–å†™nginx.confé…ç½®ä»£ç†ï¼š user nginx; worker_processes auto; error_log /var/log/nginx/error.log warn; pid /var/run/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; sendfile on; keepalive_timeout 65; # Server block for handling requests server { listen 80; server_name localhost; # å¤„ç†é™æ€æ–‡ä»¶çš„è¯·æ±‚ï¼ˆå¦‚æœæœ‰ï¼‰ location / { root /fontend; index index.html; } location ^~/api/v1/ { proxy_pass http://router_one:8080/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } location ^~/api/v2/ { proxy_pass http://router_two:8080/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } } æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œä»£ç†çš„è½¬å‘è·¯å¾„åˆ†åˆ«æ˜¯http://router_one:8080/å’Œhttp://router_two:8080/ï¼Œå…¶ä¸­ä¸æ˜¯IPåœ°å€ï¼Œè€Œæ˜¯å®¹å™¨åã€‚ å®¹å™¨ç¼–æ’ä»¥åŠé€šä¿¡æµ‹è¯• ç¼–å†™docker-compose.ymlç¼–æ’å†…å®¹ï¼Œé…ç½®å¦‚ä¸‹ï¼š version: '3' services: font_end: image: fontend:v1 build: ./client contai","date":"2024-10-29","objectID":"/docker-connection/:0:0","tags":["docker","go"],"title":"å¦‚ä½•å®ç°å¤šä¸ªä¸ªå®¹å™¨ä¹‹é—´çš„é€šè®¯","uri":"/docker-connection/"},{"categories":["golangä¹‹è·¯"],"content":"åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é¦–å…ˆç®€å•ä»‹ç»ä¸‹å¦‚ä½•å®‰è£…Goè¯­è¨€ç¯å¢ƒï¼Œä»¥å¼€å¯Goè¯­è¨€å­¦ä¹ ä¹‹è·¯ï¼æˆ‘ä»¬å°†ç®€å•ä»‹ç»åœ¨Windowsç¯å¢ƒï¼ŒLinuxç¯å¢ƒä»¥åŠMacç¯å¢ƒä¸‹å¦‚ä½•å®‰è£…ï¼Œå°½å¯èƒ½å…¨é¢çš„è¦†ç›–ä¸åŒè¯»è€…æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿã€‚ Goè¯­è¨€ä¸‹è½½åœ°å€ Windowså®‰è£… ä¸‹è½½windowsç¯å¢ƒä¸‹çš„zipæ–‡ä»¶ï¼Œè§£å‹åˆ°ç³»ç»Ÿçš„æŸä¸ªç›®å½•ä¸­ï¼Œåœ¨æˆ‘çš„ç³»ç»Ÿä¸­ï¼Œæˆ‘å°†å…¶è§£å‹åˆ°æœ¬åœ°Dç›˜ç›®å½•D:\\Program Files\\Go\\goä¸‹ã€‚ ä¹‹ååœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­å°†è¯¥ç›®å½•ä¸‹çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š ä¿å­˜åé€šè¿‡æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥go versionå³å¯åˆ¤æ–­æ˜¯å¦æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ ä¹‹åéœ€ç”³æ˜GOROOTã€GOPATHï¼Œå¹¶å°†GOPATHç›®å½•ä¸‹çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä¾¿äºåç»­è°ƒç”¨go installæŒ‡ä»¤å®‰è£…çš„å‘½ä»¤ã€‚ Linuxå®‰è£… ä¸‹è½½å›¾1ä¸­çš„æºç åŒ…ï¼Œåˆ é™¤ /usr/local/go æ–‡ä»¶å¤¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œåˆ é™¤ä¹‹å‰å®‰è£…çš„ Goï¼Œç„¶åå°†åˆšåˆšä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹ç¼©åˆ°/usr/localï¼Œåœ¨ /usr/local/go ä¸­åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ GOROOT rm -rf /usr/local/go \u0026\u0026 tar -C /usr/local -xzf go1.23.2.linux-amd64.tar.gz åœ¨PATHç¯å¢ƒå˜é‡ä¸­æ·»åŠ /usr/local/go/binï¼Œåœ¨$HOME/.profileæˆ–/etc/profileï¼ˆç”¨äºå…¨ç³»ç»Ÿå®‰è£…ï¼‰ä¸­æ·»åŠ ä»¥ä¸‹ä¸€è¡Œå³å¯ï¼š export GOROOT=/usr/local/go export GOPATH=/data/go export PATH=$GOPATH/bin:$GOROOT/bin:$PATH ä¹‹åä½¿ç”¨å‘½ä»¤source $HOME/.profileæ¿€æ´»ç¯å¢ƒå˜é‡é…ç½®å³å¯ã€‚ Macå®‰è£… å®‰è£…å›¾1ä¸­çš„.pkgå®‰è£…æ–‡ä»¶å³å¯ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š cd ~ vim .bash_profile ç¼–è¾‘ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼š export GOPATH=/Users/XXX/go #æœ¬åœ°åˆ›å»ºçš„gopathç»å¯¹è·¯å¾„ export PATH=$PATH:$GOPATH/bin æ¿€æ´»é…ç½®æ–‡ä»¶source ~/.bash_profileå³å¯ã€‚ é¢å¤–çš„æ³¨æ„ç‚¹ï¼š éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGOPATHç›®å½•ä¸‹éœ€è¦åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«æ˜¯srcã€pkgä»¥åŠbinï¼Œå…¶ä¸­binç›®å½•ä¿å­˜go installå®‰è£…çš„æŒ‡ä»¤ï¼Œpkgä¿å­˜ç¬¬ä¸‰æ–¹åŒ…çš„æºç ï¼Œsrcç”¨äºåœ¨GO111MODULE=offæ—¶ï¼Œåœ¨è¯¥è·¯å¾„ä¸‹ç¼–å†™åŒ…å«ç¬¬ä¸‰æ–¹åŒ…çš„ç¨‹åºï¼ˆç°åœ¨åŸºæœ¬ä¸åœ¨srcä¸‹å†™ä»£ç äº†ï¼‰ ä¹‹åæˆ‘ä»¬éœ€è¦è¦†å†™goçš„å‡ ä¸ªé…ç½®ï¼š go env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct GO111MODULEæ˜¯Goè¯­è¨€ç”¨äºç®¡ç†ä¾èµ–å…³ç³»çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç®¡ç†é¡¹ç›®çš„ä¾èµ–åŒ…ï¼Œå¹¶ä¸”å¯ä»¥ç¡®ä¿é¡¹ç›®åœ¨ä¸åŒç¯å¢ƒä¸‹çš„ä¸€è‡´æ€§ GOPROXYè¡¨ç¤ºGoå®‰è£…ç¬¬ä¸‰æ–¹åŒ…çš„ä»£ç†ï¼ˆå› ä¸ºå›½å†…ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼‰ï¼Œä¾¿äºåç»­ç›´æ¥go getå®‰è£…ç¬¬ä¸‰æ–¹åŒ… è‡³æ­¤ï¼Œgoçš„å®‰è£…å·²ç»å®Œæˆäº† ","date":"2024-10-08","objectID":"/go-install/:0:0","tags":["golang","study"],"title":"Goè¯­è¨€ç¯å¢ƒå®‰è£…","uri":"/go-install/"},{"categories":null,"content":"å½’ä¸€åŒ–æµåŸºæœ¬å†…å®¹ ä»€ä¹ˆæ˜¯æ ‡å‡†åŒ–æµï¼šåŸºäºä¸€ç³»åˆ—å¯é€†å˜æ¢ï¼Œç”Ÿæˆæ ·æœ¬å¯¹åº”çš„åˆ†å¸ƒ æ ‡å‡†åŒ–æµçš„åŸºæœ¬åŸç†ï¼š å˜é‡æ›¿æ¢ï¼š$p_x(x)=p_z(f_\\theta(x))|\\det J_{f_\\theta}(x)|$ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºé€šè¿‡$z=f_\\theta(x)$ï¼Œå°†åŸå…ˆå¤æ‚åˆ†å¸ƒï¼Œå˜æ¢æˆç®€å•æ˜“æ‡‚çš„åˆ†å¸ƒå½¢å¼ï¼Œå…¶ä¸­æˆ‘ä»¬è¦æ±‚$f_\\theta$å¿…é¡»æ˜¯å¯é€†å˜æ¢ã€‚æ ‡å‡†åŒ–æµçš„ç›®çš„å°±æ˜¯æ±‚å¾—è¯¥å¯é€†å˜æ¢ã€‚ åœ¨æ ‡å‡†åŒ–æµä¸­ï¼Œå¾€å¾€ä¼šä½¿ç”¨å¤šä¸ªè¿™æ ·çš„å¯é€†å˜æ¢ï¼Œå³$f_\\theta(x)=f_1(x)\\circ f_2(x)â€¦\\circ f_K(x)$ é›…å„æ¯”è¡Œåˆ—å¼æ±‚è§£ï¼š $$ \\det J_{f_\\theta}(x)=\\det \\prod_{i=1}^K J_{f_i}(x)=\\prod_{i=1}^K\\det J_{f_i}(x) $$ åˆ©ç”¨å¯¹æ•°å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š $$ \\log p_x(x)=\\log p_z(f_{\\theta}(x))+\\sum_{i=1}^K\\log |det J_{f_i}(x)| $$ æˆ‘ä»¬éœ€è¦æœ€å¤§åŒ–è¿™ä¸ªæ¦‚ç‡å¯†åº¦ ","date":"2024-01-06","objectID":"/nf-introduce/:0:1","tags":null,"title":"Normalizing Flowä»‹ç»","uri":"/nf-introduce/"},{"categories":null,"content":"è®ºæ–‡ã€ŠA deep generative model for probabilistic energy forecasting in power systems: normalizing flowsã€‹çš„åº”ç”¨ï¼š åœ¨è¯¥è®ºæ–‡ä¸­ï¼Œä½œè€…é‡‡ç”¨æ ‡å‡†åŒ–æµçš„æ–¹å¼å®ç°äº†è´Ÿè·é¢„æµ‹åŠŸèƒ½ã€‚ä½œè€…åˆ©ç”¨$\\bm x$è¡¨ç¤ºd-1å¤©çš„è´Ÿè·æ•°æ®ï¼Œç”¨$\\bm c$è¡¨ç¤ºå¤©æ°”ä¿¡æ¯ï¼Œå¸Œæœ›èƒ½å¤Ÿå¾—åˆ°ç¬¦åˆç¬¦åˆæ•°æ®åˆ†å¸ƒçš„åˆ†å¸ƒ$p_\\theta(\\bm x|\\bm c)$ï¼Œä»è€Œå¯ä»¥åˆ©ç”¨è¯¥åˆ†å¸ƒå¾—åˆ°é¢„æµ‹æ•°æ®$^{\\bm x}$ã€‚ åœ¨åˆ©ç”¨å½’ä¸€åŒ–æµæ–¹å¼å¯¹æ³°è¿ªæ¯”èµ›æ•°æ®è¿›è¡Œè´Ÿè·é¢„æµ‹çš„å°è¯•ä¸­ï¼Œä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š æå–æ—¶é—´æ•°æ®å’Œå¤©æ°”æ•°æ®ï¼Œé‡æ–°æ•´åˆåŸæœ¬æ•°æ®æ ¼å¼ï¼Œå¾—åˆ°å½’ä¸€åŒ–æµçš„æ¨¡å‹è¾“å…¥æ ¼å¼ å…¶ä¸­æ¯ä¸€è¡Œä¸ºæŸä¸ªæ—¶åˆ»çš„è´Ÿè·æ•°æ®yå’Œå½±å“è´Ÿè·çš„å› ç´ ï¼ˆæ—¶é—´å› ç´ ã€å¤©æ°”å› ç´ ï¼‰xã€‚æ ¹æ®æ—¥æœŸé‡æ–°æ’åˆ—æ•°æ®xï¼Œå°†æ¯ä¸ªæ—¶åˆ»å½±å“è´Ÿè·çš„å› ç´ æ¨ªå‘æ’åˆ—å¹¶ç»„åˆã€‚æ­¤æ—¶xé‡æ–°æ’åˆ—ä¸ºä¸€ä¸ª$day\\times 960$çš„çŸ©é˜µï¼Œè¡¨ç°å¦‚ä¸‹ï¼š ","date":"2024-01-06","objectID":"/nf-introduce/:0:2","tags":null,"title":"Normalizing Flowä»‹ç»","uri":"/nf-introduce/"},{"categories":["cuda"],"content":"åˆ›å»ºå®ä¾‹ åœ¨é˜¿é‡Œäº‘å¹³å°ä¸Šåˆ›å»ºå®ä¾‹ï¼š å…¶ä¸­æˆ‘ä»¬é•œåƒé€‰æ‹©ä¸ºå…¬å…±çš„Ubuntu20.04é•œåƒï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–é…ç½®å¥½çš„é•œåƒä»è€Œç®€åŒ–ä¹‹åçš„æ­¥éª¤ã€‚ æˆ‘ä»¬ä¹‹åä¼šæ¼”ç¤ºå¦‚ä½•åœ¨ä¸€ä¸ªç©ºç™½çš„ç³»ç»Ÿä¸­ï¼Œå®‰è£…pythonã€cudaä»¥åŠpytorchçš„ç¯å¢ƒ é…ç½®å¥½ä»¥ä¸Šä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½è·å¾—ä¸€ä¸ªå®ä¾‹ï¼Œç‚¹å‡»å®ä¾‹æ“ä½œé‡Œçš„æ‰“å¼€å³å¯è¿æ¥è¿œç¨‹ä¸»æœºï¼Œä¹‹åæˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªå®åŠ›ä¸Šå®‰è£…ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œé…ç½®æˆ‘ä»¬éœ€è¦çš„ç¯å¢ƒã€‚ ","date":"2023-12-14","objectID":"/install/:0:1","tags":["cuda","å®‰è£…æ•™ç¨‹"],"title":"é˜¿é‡Œäº‘PAIå¹³å°æ­å»ºpytorch-cuda11.4ç¯å¢ƒ","uri":"/install/"},{"categories":["cuda"],"content":"å®‰è£…åŸºæœ¬ç¯å¢ƒ æ›´æ–°aptæº apt-get update å®‰è£…python ååˆ†ç®€å•ï¼š apt-get install python3 apt-get install python3-venv apt-get install python3-pip å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æ‰§è¡Œ python3 --version å®‰è£…cudaæ‰€éœ€ç¯å¢ƒ æ§åˆ¶å°æ•²å…¥nvidia-smiè·å¾—GPUä¿¡æ¯ï¼Œå¯ä»¥æˆ‘ä»¬æ‰€éœ€cudaçš„ç‰ˆæœ¬æ˜¯11.4 å®‰è£…libxml2 apt-get install libxml2 é…ç½®å¥½æ—¶åŒºä¿¡æ¯å³å¯ å®‰è£…gccç¯å¢ƒï¼š apt-get install gcc-7 g++-7 é…ç½®gccç‰ˆæœ¬ä¼˜å…ˆçº§ï¼Œä¸ç„¶cudaæ— æ³•è¯†åˆ«åˆ°å®‰è£…å¥½çš„gcc update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 70 --slave /usr/bin/g++ g++ /usr/bin/g++-7 --slave /usr/bin/gcov gcov /usr/bin/gcov-7 update-alternatives --config gcc æ•²å…¥gcc --versionå‡ºç°å¦‚ä¸‹ä¿¡æ¯å³å¯ï¼š å®‰è£…wgetå’Œvim apt-get install wget apt-get install vim å®‰è£…cuda åˆ°nvidiaå®˜ç½‘ä¸Šæ‰¾åˆ°å¯¹åº”cudaé©±åŠ¨ä¸‹è½½ä¿¡æ¯ï¼šå¦‚å›¾é€‰æ‹©å³å¯ åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªcuda-installerç›®å½•ï¼Œè¿›å…¥è¯¥ç›®å½•ï¼Œæ‰§è¡Œinstallerä¸­çš„å‘½ä»¤ï¼š wget https://developer.download.nvidia.com/compute/cuda/11.4.0/local_installers/cuda_11.4.0_470.42.01_linux.run sh cuda_11.4.0_470.42.01_linux.run æ•²å…¥accpetåŒæ„åè®®ï¼Œåœ¨ä¹‹åçš„é…ç½®ä¸­é€‰æ‹©å¦‚ä¸‹é…ç½®ï¼š å®‰è£…å³å¯ï¼ŒåŒæ—¶æŒ‰ç…§ç»™å‡ºçš„æç¤ºï¼š ä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½¿ç”¨vim /etc/profileåœ¨æ–‡æœ«æ·»åŠ å¦‚ä¸‹ä¿¡æ¯ï¼š export CUDA_HOME=/usr/local/cuda-11.4 export LD_LIBRARY_PATH=/usr/local/cuda-11.4/lib64:$LD_LIBRARY_PATH export PATH=/usr/local/cuda-11.4/bin:$PATH é‡èµ·å®ä¾‹ï¼Œæ‰§è¡Œnvcc -Vå‡ºç°ï¼š å³å¯ã€‚ è‡³æ­¤cudaå®‰è£…å®Œæ¯• å®‰è£…Torch å»å®˜ç½‘ä¸Šï¼Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬æ‰§è¡Œä¸€ä¸‹å‘½ä»¤å³å¯ pip install torch==1.12.0+cu113 torchvision==0.13.0+cu113 torchaudio==0.12.0 --extra-index-url https://download.pytorch.org/whl/cu113 ","date":"2023-12-14","objectID":"/install/:0:2","tags":["cuda","å®‰è£…æ•™ç¨‹"],"title":"é˜¿é‡Œäº‘PAIå¹³å°æ­å»ºpytorch-cuda11.4ç¯å¢ƒ","uri":"/install/"},{"categories":["golangå°æŠ€å·§"],"content":"ç®€ä»‹ æˆ‘ä»¬èƒ½åœ¨goä»£ç ä¸­æ·»åŠ ä¸€æ®µæ³¨é‡Šï¼Œç”¨æ¥è¡¨ç¤ºä¸€ç§ç¼–è¯‘çº¦æŸ //go:build [tags] é€šè¿‡è¿™ä¸ªå¹¶ä¸”é…åˆgo build -tags=\"...\"çš„æ–¹å¼ï¼Œå°±èƒ½å®ç°å¸¦æœ‰çº¦æŸçš„ç¼–è¯‘ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š æˆ‘ä»¬ç¼–å†™ä¸€ä¸‹ä»£ç ï¼šä¸»ç¨‹åºç”³æ˜å¦‚ä¸‹ //main.go package main var configArr []string func main(){ for _, v := range configArr { print(v, \" \") } } åŒæ—¶ï¼Œæˆ‘ä»¬ä¼šç¼–å†™å¦å¤–ä¸¤ä¸ªç”¨äºåˆå§‹åŒ–çš„ä»£ç ï¼Œåˆ†åˆ«ä¸ºdevå’Œtest //go:build dev package main func init() { configArr = append(configArr, \"dev\") } //go:build test package main func init() { configArr = append(configArr, \"test\") } æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸¤ä¸ªåŒä¸€åŒ…ä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„åˆå§‹åŒ–åŠŸèƒ½ï¼Œåˆ†åˆ«ä¸ºconfigArræ·»åŠ ç›¸åº”çš„å†…å®¹ã€‚ å½“æˆ‘ä»¬é‡‡ç”¨ä¸åŒæ–¹å¼ç¼–è¯‘ä»£ç æ—¶ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹æƒ…å†µï¼š èƒ½å¤Ÿçœ‹åˆ°ç¼–è¯‘æ—¶æºå¸¦çš„tagä¸åŒï¼Œç»“æœä¹Ÿå°±ä¸åŒã€‚ æˆ‘ä»¬å¯ä»¥å¾ˆç›´è§‚çš„æƒ³åˆ°å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå®ç°ä¸åŒæ¨¡å¼ä¸‹çš„ç¼–è¯‘ ","date":"2023-12-04","objectID":"/tips-1/:0:1","tags":["golang","tips"],"title":"goè¯­è¨€å°æŠ€å·§--ç¼–è¯‘çº¦æŸ","uri":"/tips-1/"},{"categories":["golangå°æŠ€å·§"],"content":"ç¯å¢ƒè®¾ç½® å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ //go:build linuxçš„æ–¹å¼å¯¹æœ¬æ®µä»£ç è¿›è¡Œç¼–è¯‘ç¯å¢ƒçš„é™åˆ¶ã€‚ ä¾‹å¦‚æˆ‘ä»¬å¯¹ä¸Šè¿°ä»£ç çš„go:buildæ³¨é‡Šè¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ•ˆæœï¼š //go:build linux package main func init() { configArr = append(configArr, \"dev\") } //go:build windows package main func init() { configArr = append(configArr, \"test\") } è¿™æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥è¿›è¡Œä»£ç ç¼–è¯‘ï¼Œèƒ½å¤Ÿçœ‹åˆ°å¦‚ä¸‹æ•ˆæœï¼š å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªå°†testéƒ¨åˆ†çš„ä»£ç ç¼–è¯‘ï¼Œè€Œdevçš„ä»£ç å¹¶æ²¡æœ‰ç¼–è¯‘ ","date":"2023-12-04","objectID":"/tips-1/:0:2","tags":["golang","tips"],"title":"goè¯­è¨€å°æŠ€å·§--ç¼–è¯‘çº¦æŸ","uri":"/tips-1/"},{"categories":["golangå°æŠ€å·§"],"content":"æ ¼å¼ ä¸¾ä¸ªä¾‹å­ï¼š// go:build linux \u0026\u0026 amd64 \u0026\u0026 ï¼cgo || darwinï¼Œé€šè¿‡è¿™ä¸ªæˆ‘ä»¬å°±èƒ½å‘ç°ï¼Œå¯ä»¥é€šè¿‡é€»è¾‘è¿ç®—ç¬¦æ¥è¡¨æ˜ç¼–è¯‘çº¦æŸã€‚ ","date":"2023-12-04","objectID":"/tips-1/:0:3","tags":["golang","tips"],"title":"goè¯­è¨€å°æŠ€å·§--ç¼–è¯‘çº¦æŸ","uri":"/tips-1/"},{"categories":["Docker"],"content":"å¦‚ä½•è¿è¡Œå®¹å™¨ åœ¨ä¹‹å‰çš„å‡ ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨dockerçš„æŒ‡ä»¤ä»¥åŠå¦‚ä½•è¿›è¡Œå®¹å™¨æ‰“åŒ…ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦äº†è§£ï¼Œè¯¥å¦‚ä½•è¿è¡Œå®¹å™¨ã€‚ æœ€ç®€å•çš„æ–¹å¼ï¼š ä½¿ç”¨docker runæˆ–docker startæŒ‡ä»¤æ¥è¿è¡Œé•œåƒæˆ–å®¹å™¨ ä½†æ˜¯è¿™ç§æ–¹å¼åœ¨é¢å¯¹éœ€è¦è¿›è¡Œå®¹å™¨çš„ç«¯å£æ˜ å°„ã€é•œåƒå·ä»¥åŠå®¹å™¨é—´çš„ç½‘ç»œé€šä¿¡æ—¶ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œä¸æ˜“æ“ä½œã€‚ åŒæ—¶ï¼Œå¦‚æœæŸä¸ªå®¹å™¨é¢å¤–éœ€è¦ä¾èµ–å¦ä¸€ä¸ªå®¹å™¨çš„å­˜åœ¨ï¼Œå³å®¹å™¨ä¹‹é—´å­˜åœ¨å…³è”çš„å…³ç³»æ—¶ï¼Œå®¹å™¨çš„å¯åŠ¨é¡ºåºå°±æ¯”è¾ƒé‡è¦äº†ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ‰‹å¤´æœ‰ä¸ªwebæœåŠ¡å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨éœ€è¦ä¾èµ–å¦ä¸€ä¸ªMySQLå®¹å™¨çš„å­˜åœ¨ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦å…ˆåœ¨webæœåŠ¡å®¹å™¨è¿è¡Œå‰ï¼Œå…ˆè¿è¡ŒMySQLå®¹å™¨ã€‚ä¹Ÿè®¸ä½ ä¼šè®¤ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨çš„å…ˆåé¡ºåºå¹¶ä¸ä¼šå¯¹ä½ é€ æˆå›°æ‰°ï¼Œä½†æ˜¯å¦‚æœå®¹å™¨æ•°é‡å¤šäº†æ€ä¹ˆåŠï¼Œå®¹å™¨è¿è¡Œçš„ç›¸å…³å‚æ•°ç‰¹åˆ«å¤šæ€ä¹ˆåŠã€‚äº¦æˆ–è€…ç»è¿‡äº†è¾ƒé•¿æ—¶é—´ï¼Œä½ å¿˜è®°äº†è¿™ä¸ªä¾èµ–å…³ç³»æ€ä¹ˆåŠï¼Ÿ è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ä¸ªå·¥å…·æ¥ç®¡ç†å®¹å™¨è¿è¡Œçš„ç›¸å…³å‚æ•°ä»¥åŠä¾èµ–å…³ç³»ã€‚ ","date":"2023-11-30","objectID":"/docker-run/:0:1","tags":null,"title":"å®¹å™¨è¿è¡Œæ–¹å¼","uri":"/docker-run/"},{"categories":["Docker"],"content":"docker-composeå·¥å…· å¦‚ä½•å®‰è£… Windowsç¯å¢ƒä¸‹ï¼Œå› ä¸ºdocker-desktopè‡ªå¸¦docker-composeï¼Œæ‰€ä»¥ä¸éœ€è¦å…³æ³¨å¦‚ä½•å®‰è£… Linuxç¯å¢ƒä¸‹ï¼Œè®¿é—®docker-composeçš„ä¸‹è½½åœ°å€Releases Â· docker/compose (github.com) ï¼Œé€‰æ‹©é€‚åˆç³»ç»Ÿçš„ä»¥åŠç›¸åº”æ¶æ„çš„å¯è¿è¡Œç¨‹åºã€‚è¿è¡Œsudo chmod +x docker-composeèµ‹äºˆå…¶å¯è¿è¡Œèƒ½åŠ›ï¼Œè®©åå°†è¯¥å¯æ‰§è¡Œæ–‡ä»¶æ”¾å…¥ç¯å¢ƒå˜é‡çš„ç›®å½•ä¸‹å³å¯ ç¼–å†™docker-compose.ymlæ–‡ä»¶ å½“æˆ‘ä»¬å·²ç»å°†å®¹å™¨æ‰“åŒ…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™docker-compose.ymlæ–‡ä»¶ï¼Œä»è€Œèƒ½å¤Ÿè¿è¡Œå®¹å™¨ã€‚ æˆ‘ä»¬ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ç”³æ˜å…¶é•œåƒå·çš„æŒ‚è½½å³å¯ verison: '3' services: cliffwalking: image: demo:v1 container_name: reinforce_learning volumes: - /home/yizhigopher/cliffwalk/ouput:/cliffwalking/output - /home/yizhigopher/cliffwalk/model:/cliffwalking/model æˆ‘ä»¬åªéœ€è¦åœ¨å½“å‰docker-compose.ymlçš„ç›®å½•ä¸‹,è¿è¡Œdocker-compose upå°±èƒ½å¤Ÿè¿è¡Œä¸€ä¸ªåä¸ºreinforce_learningçš„å®¹å™¨,å¹¶ä¸”å°†å®¹å™¨å†…éƒ¨çš„outputå’Œmodelæ–‡ä»¶å¤¹çš„å†…å®¹å’Œå®¹å™¨å¤–éƒ¨çš„å¯¹åº”çš„æ–‡ä»¶å¤¹ç›¸å…³è”. å½“ç„¶,docker-composeèƒ½å¤Ÿè¯†åˆ«çš„å…³é”®å­—ä¸æ­¢ä»¥ä¸Šè¿™äº›å†…å®¹,æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®Docker Compose overview | Docker Docs ä»¥åŠèœé¸Ÿæ•™ç¨‹Docker Compose | èœé¸Ÿæ•™ç¨‹ (runoob.com) è·å¾—ç›¸å…³çš„æ›´å¤šä¿¡æ¯.ä»¥ä¸Šåªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹,å¸Œæœ›èƒ½å¤Ÿé€šè¿‡è¿™äº›èƒ½å¤Ÿè®©è¯»è€…ä¸€çª¥docker-composeå®¹å™¨ç¼–æ’çš„é«˜æ•ˆä»¥åŠä¼˜è¶Šæ€§ ","date":"2023-11-30","objectID":"/docker-run/:0:2","tags":null,"title":"å®¹å™¨è¿è¡Œæ–¹å¼","uri":"/docker-run/"},{"categories":["Docker"],"content":"ç»“è¯­ è‡³æ­¤,dockerçš„ç›¸å…³çŸ¥è¯†åŸºæœ¬åˆ†äº«å®Œæ¯•,äº‹å®ä¸Š,ä»…ä»…é€šè¿‡çŸ­çŸ­çš„ä¸‰ä¸ªåšæ–‡æ˜¯ä¸èƒ½è¯´æ˜ç™½dockerçš„,ä¹Ÿä¸å¯èƒ½å°±ä»…ä»…è¯»è¿™äº›å†…å®¹å°±èƒ½æŒæ¡docker.è¿™ä¸‰ç¯‡åšæ–‡,ä»…ä»…èƒ½å¤Ÿè®©å¤§å®¶å¯¹dockeræœ‰ä¸ªåŸºæœ¬çš„äº†è§£,ä»¥åŠåŸºæœ¬æ“ä½œçš„ç†Ÿæ‚‰.æƒ³è¦ç†Ÿç»ƒæŒæ¡docker,è¿˜éœ€è¦ç»è¿‡è‡ªå·±å¤§é‡çš„å®è·µç»ƒä¹ å’Œæ“ä½œæ‰èƒ½çœŸæ­£ç†Ÿæ‚‰. ","date":"2023-11-30","objectID":"/docker-run/:0:3","tags":null,"title":"å®¹å™¨è¿è¡Œæ–¹å¼","uri":"/docker-run/"},{"categories":["Docker"],"content":"åŸºæœ¬æ“ä½œ åœ¨ä¸ŠèŠ‚ï¼Œæˆ‘ä»¬å·²ç»å®‰è£…å¥½dockerï¼Œä½†æ˜¯å°±å¦‚åŒå†™ä»£ç ä¸€æ ·ï¼Œæˆ‘ä»¬å®‰è£…å¥½äº†ç›¸å…³ç¯å¢ƒï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»£ç èƒ½å¤Ÿè®©æˆ‘ä»¬è¿è¡Œï¼Œæˆ‘ä»¬åˆä¸ä¼šå†™ä»£ç ï¼ˆè‡ªå·±æ„å»ºé•œåƒï¼‰ï¼Œé‚£è¯¥æ€ä¹ˆåŠã€‚æˆ‘ä»¬å¯ä»¥åˆ°githubä¸Šé¢å¯»æ‰¾ä¸€ä¸ªç›¸å…³çš„ä»£ç ï¼Œæ‹‰å–åˆ°æœ¬åœ°ï¼Œç„¶åè¿è¡Œå³å¯ã€‚ æ‰€ä»¥æˆ‘ä»¬ç°åœ¨é¦–å…ˆè¦åšçš„äº‹åº”è¯¥æ˜¯å­¦ä¼šå¦‚ä½•æ‹‰å–é•œåƒåˆ°æœ¬åœ°ã€‚ docker pull å®Œæ•´çš„docker pullå‘½ä»¤åº”è¯¥æ˜¯ï¼šdocker pull ${IMAGE_NAME}:${IMAGE_TAG} å®ƒä¼šä»dockerçš„å®˜æ–¹é•œåƒä»“åº“ä¸­æ‹‰å–å¯¹åº”çš„é•œåƒã€‚å…¶ä¸­${IMAGE_TAG}éƒ¨åˆ†å¦‚æœä¸å†™ï¼Œä¼šé»˜è®¤æ‹‰å–æœ€æ–°çš„é•œåƒä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨è¿è¡Œdocker pull hello-worldå‘½ä»¤ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼Œä½¿ç”¨äº†æœ€æ–°çš„ç‰ˆæœ¬ï¼ˆtagï¼‰ï¼Œé•œåƒçš„sha256éªŒè¯ä¿¡æ¯ï¼Œä»¥åŠä»å“ªé‡Œæ‹‰å–çš„é•œåƒã€‚æ‰€ä»¥ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŸç§é•œåƒï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥pullä»¥ä¸‹å°±å¯ä»¥äº†ã€‚ å¯ä»¥é€šè¿‡è®¿é—®docker hub ä¸Šï¼Œæœç´¢ä½ æƒ³è¦çš„åŸºç¡€é•œåƒçš„ä¿¡æ¯å³å¯ï¼ˆè¿™ä¸€è¿‡ç¨‹éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨docker search ${IMAGE_NAME}ï¼Œå®åœ¨ä¸è¡Œåˆ©ç”¨bingæœç´¢ç›¸å…³ä¿¡æ¯ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹© é‚£ä¹ˆæˆ‘ä»¬æ‹‰å–å®Œäº†ï¼Œæˆ‘ä»¬æ€ä¹ˆèƒ½å¤Ÿç¡®å®šè¿™ä¸ªé•œåƒå°±æ˜¯åœ¨æˆ‘çš„ç”µè„‘ä¸Šçš„å‘¢ï¼Ÿ docker images æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥docker imagesçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬æœ¬åœ°å­˜å‚¨ä¸­ï¼Œç¡®ç¡®å®å®æœ‰ä¸€ä¸ªæ¥è‡ªhello-worldï¼ŒTAGæ˜¯latestçš„ä»“åº“çš„é•œåƒã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡docker inspect ${IMAGE_NAME}æŸ¥çœ‹é•œåƒåœ¨æœ¬åœ°çš„å“ªä¸ªä½ç½®ï¼Œä½†æ˜¯è¿™ä¹ˆåšå®Œå…¨æ²¡æœ‰å¿…è¦ã€‚ æˆ‘ä»¬å·²ç»èƒ½å¤Ÿç¡®å®šç¡®ç¡®å®å®æœ‰ä¸ªé•œåƒåœ¨æœ¬åœ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è¿è¡Œè¿™ä¸ªé•œåƒå‘¢ docker run å®Œæ•´çš„docker runæŒ‡ä»¤å¦‚ä¸‹ï¼šdocker run [OPTIONS] ${IMAGE_NAME} [COMMAND] [ARG...]ï¼Œè¿™æ ·ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªå®¹å™¨container å…¶ä¸­optionså¸¸ç”¨çš„æ˜¯ï¼š -vï¼šç»‘å®šå®¹å™¨å·ï¼Œåé¢ç´§è·Ÿæ˜ å°„å…³ç³»ï¼Œå…·ä½“è€Œè¨€å°±æ˜¯å°†æœ¬åœ°æ–‡ä»¶å’Œå®¹å™¨å†…çš„æ–‡ä»¶ç›¸å…³è”ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤å¤„çš„æ–‡ä»¶è·¯å¾„ç”¨:éš”å¼€ï¼Œå‰é¢æ˜¯æœ¬åœ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œåé¢æ˜¯å®¹å™¨å†…çš„ç»å¯¹è·¯å¾„ã€‚ä¾‹å¦‚ï¼šdocker run -v /home/yizhigopher/result:/project/result xxx:v1 -dï¼šåå°è¿è¡Œå®¹å™¨ï¼Œä½¿ç”¨è¿™ä¸ªoptionåï¼Œæˆ‘ä»¬å°±ä¸ä¼šçœ‹åˆ°å®¹å™¨è¿è¡Œçš„ç»“æœï¼Œè€Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªå®¹å™¨ID -pï¼šç«¯å£æ˜ å°„ã€‚æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è®¿é—®å®¹å™¨å†…çš„ä¸€äº›æœåŠ¡ï¼Œä¾‹å¦‚MySQLå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°å°±èƒ½è¿æ¥å®¹å™¨ä¸­çš„MySQLæœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼šdocker run -d -p 8080:3306 mysqlï¼Œè¿™æ ·æˆ‘ä»¬å°±æ˜¯å°†å®¹å™¨å†…çš„3306ç«¯å£æ˜ å°„åˆ°æœ¬åœ°çš„8080ç«¯å£ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°å°±å¯ä»¥é€šè¿‡è®¿é—®8080ç«¯å£è·å¾—MySQLæœåŠ¡ã€‚ -iï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ -tï¼šä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ ä¸Šè¿°å°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬å¸¸ç”¨çš„OPTIONSä¿¡æ¯ï¼Œæˆ‘ä»¬æŒæ¡äº†è¿™äº›ï¼ŒåŸºæœ¬å¯ä»¥åº”ä»˜å¤§éƒ¨åˆ†æƒ…å†µã€‚å¦‚æœéœ€è¦å…¶ä»–çš„æ“ä½œå¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…baiduã€‚ ä¸¾ä¸ªä¾‹å­ï¼šåœ¨ç»ˆç«¯æ‰§è¡Œdocker run -it golang:alpineä¼šå‘ç”Ÿä»€ä¹ˆï¼š éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¿™ä¸ªå‘½ä»¤ç›¸å½“äºå¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶è¿›å…¥å®¹å™¨å†…éƒ¨ã€‚å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæˆ‘ä»¬ç»ˆç«¯çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œä»root@yizhigopherè¿›å…¥åˆ°äº†å®¹å™¨å†…éƒ¨çš„/goç›®å½•ä¸‹ï¼Œç”±æ­¤ä¹Ÿèƒ½çœ‹å‡ºdockerçš„å®¹å™¨ä¹Ÿå¯çœ‹æˆæ˜¯ä¸€ä¸ªå°å‹çš„æ“ä½œç³»ç»Ÿï¼Œåœ¨å¸¦æœ‰bashå·¥å…·çš„å®¹å™¨å†…éƒ¨ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œä¸€äº›ç®€å•çš„ç»ˆç«¯å‘½ä»¤ï¼Œä¾‹å¦‚lsã€cdç­‰ç­‰ æ—¢ç„¶æˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•æ‹‰å–é•œåƒï¼Œå¦‚ä½•å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å­¦å­¦å¦‚ä½•ç”Ÿæˆä¸€ä¸ªé•œåƒã€‚ ","date":"2023-11-14","objectID":"/docker-cmd/:0:1","tags":null,"title":"dockerå¸¸ç”¨å‘½ä»¤ä»¥åŠé•œåƒæ‰“åŒ…","uri":"/docker-cmd/"},{"categories":["Docker"],"content":"dockerfile è¦å®ç°è‡ªå·±ç¼–åˆ¶ä¸€ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±å¾—å­¦ä¼šdockerfileæ–‡ä»¶çš„ç¼–å†™è§„åˆ™ã€‚ å½“ç„¶ï¼Œç”±äºç¯‡å¹…ï¼Œè¿™é‡Œä»…ä»…æä¾›ä¸€äº›ç®€å•çš„dockerfileæ–‡ä»¶ç¼–å†™çš„ä»‹ç»ï¼Œå­¦ä¼šäº†è¿™äº›ä¹Ÿå°±å¤Ÿäº†ï¼Œæ›´å¤šè¯¦ç»†çš„è¯´æ˜éƒ½å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ FROM ${IMAGE_NAME} æ¯ä¸ªdockerfileéƒ½å¾—ä»¥FROMä½œä¸ºå¼€å§‹ï¼Œæˆ‘ä»¬è‡ªå·±æ„å»ºé•œåƒï¼Œéœ€è¦åœ¨ä¸€ä¸ªé•œåƒçš„åŸºç¡€ä¸ŠåŠ ä»¥åˆ›ä½œã€‚å°±å¦‚åŒæˆ‘ä»¬å¹³æ—¶ç¼–å†™ä»£ç ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä»0101äºŒè¿›åˆ¶ä¸²æ¥ç¼–å†™ä»£ç ï¼Œæˆ‘ä»¬ä¼šå€ŸåŠ©ç¼–è¯‘å™¨ç­‰åŸºç¡€ç¯å¢ƒæ¥é«˜æ•ˆç¼–å†™ç¨‹åºã€‚ FROM ${IMAGE_NAME}çš„æ„ä¹‰ååˆ†ç®€å•ï¼Œä½ å¯ä»¥ç®€ç­”åœ°ç†è§£ä¸ºdocker pull ${IMAGE_NAME}ï¼Œæˆ‘ä»¬ä¹‹åçš„ä¸€åˆ‡æ“ä½œéƒ½æ˜¯åœ¨è¿™ä¸ªé•œåƒå†…éƒ¨æ‰§è¡Œçš„ WORKDIR ${FILE_NAME} è¿™ä¸ªæ˜¯è‡ªé€‰çš„ï¼ŒWORKDIRç›¸å½“äºç”³æ˜ä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œå½“ä½ çš„å®¹å™¨è¿è¡Œæ—¶ï¼Œä¼šé»˜è®¤åœ¨è¿™ä¸ªç›®å½•ä¸‹è¿è¡Œã€‚å¦‚æœè¿™ä¸ªç›®å½•ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºè¿™ä¸ªç›®å½• COPY ${FILE_PATH} ${CONTAINER_FILE_PATH} è¿™ä¸ªæ­¥éª¤ä¼šå°†æœ¬åœ°ä¸»æœºä¸‹çš„${FILE_PATH}çš„å†…å®¹æ‹·è´åˆ°å®¹å™¨å†…éƒ¨${CONTAINER_FILE_PATH}ç›®å½•ä¸‹ã€‚æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ æƒ³æ‹·è´ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä½ éœ€è¦æŒ‡æ˜è¿™ä¸ªæ–‡ä»¶åœ¨å®¹å™¨å†…éƒ¨çš„åå­—ï¼Œå³ï¼šCOPY ./requirement.txt /project/req.txtã€‚å¦‚æœä½ æ‹·è´çš„æ˜¯æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆä½ åŒæ ·éœ€è¦æŒ‡æ˜è¿™ä¸ªæ–‡ä»¶åœ¨å®¹å™¨å†…éƒ¨çš„åç§°ã€‚ è”ç³»ä¸€ä¸‹Linuxç³»ç»Ÿä¸‹çš„mvæŒ‡ä»¤ï¼Œä¼šæœ‰è®¸å¤šç›¸åŒä¹‹å¤„ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªADDæŒ‡ä»¤å’ŒCOPYæŒ‡ä»¤ååˆ†ç›¸ä¼¼ï¼Œæ‰§è¡Œçš„åŠŸèƒ½ä¹Ÿå¤§è‡´ç›¸åŒï¼Œä½†æ˜¯ADDä¼šè‡ªåŠ¨å°†å‹ç¼©æ–‡ä»¶è¿›è¡Œè§£å‹ï¼Œè€ŒMOVEä¸è¡Œ RUN ${COMMAND} è¿™ä¸ªå‘½ä»¤ä¼šåœ¨æ­å»ºdockeré•œåƒæ—¶æ‰§è¡Œï¼Œå®ƒä¼šæ‰§è¡Œ${COMMAND}å‘½ä»¤ï¼Œé€šå¸¸æˆ‘ä»¬ç”¨è¿™æ¡æŒ‡ä»¤æ¥ä¸ºé•œåƒå†…å®¹è¿›è¡Œä¿®æ”¹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸ºpythonä»£ç è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œä¼šå°†pythonæºä»£ç COPYåˆ°é•œåƒå†…éƒ¨ï¼Œç„¶åä¼šæ‰§è¡ŒRUN pip install -r requirements.txtæ¥å®‰è£…ç›¸å…³åŒ…ä»è€Œèƒ½å¤Ÿè¿è¡Œpythonä»£ç  CMD ${COMMAND} è¿™ä¸ªéƒ¨åˆ†çš„å‘½ä»¤ä¼šåœ¨å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œï¼Œéœ€è¦æ³¨æ„çš„æœ‰å‡ ç‚¹ ä½ å¯ä»¥å†™å¤šä¸ªCMDï¼Œä½†æ˜¯åªæœ‰æœ€åä¸€ä¸ªCMDä¼šæ‰§è¡Œ CMDçš„æŒ‡ä»¤ä¼šè¢«docker runé™„å¸¦çš„è¿è¡ŒæŒ‡ä»¤è¦†ç›– COMMNDçš„ä¹¦å†™æ ¼å¼åº”å†™æˆå­—ç¬¦æ•°ç»„çš„å½¢å¼ï¼Œä¾‹å¦‚ls -aéœ€å†™æˆ[\"ls\", \"-a\"] ENTRYPOINT ${COMMAND} è¿™ä¸ªæŒ‡ä»¤å’ŒCMDæŒ‡ä»¤ååˆ†ç›¸ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒï¼ŒENTRYPOINTä¸ä¼šè¢«docker runåçš„è¿è¡ŒæŒ‡ä»¤è¦†ç›–ï¼Œè€Œæ˜¯ä¼šå°†docker runåé¢çš„å‚æ•°ä¼ é€’ç»™ENTRYPOINTã€‚å…·ä½“çš„ç¤ºä¾‹å¯çœ‹è¿™ä¸ªåšæ–‡Dockerä»å…¥é—¨åˆ°ç²¾é€šâ€”â€”CMDä¸ENTRYPOINTåŒºåˆ« ã€‚è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚ okæˆ‘ä»¬å¤§æ¦‚ä»‹ç»å®Œäº†dockerfileéœ€è¦äº†è§£çš„åœ°æ–¹ï¼Œç°åœ¨æˆ‘ä»¬æ¥è‡ªå·±ç¼–å†™ä¸ªdockerfileè¯•è¯•çœ‹å§ã€‚éšä¾¿æŒ‘ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†æ‰€éœ€è¦çš„æ–‡ä»¶å†…å®¹æ‹·è´åˆ°è¿™é‡Œï¼Œç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªdockerfileæ–‡ä»¶ï¼ˆåå­—å°±æ˜¯dockerfileï¼‰ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š ç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€æ§åˆ¶å°ï¼Œè¾“å…¥ï¼šdocker buuild -t cliffwalk:v1 . docker buildè¡¨ç¤ºæ‰§è¡Œæ„å»ºé•œåƒ -tè¡¨ç¤ºæ„å»ºçš„é•œåƒåå’Œé•œåƒtagä¸ºcliffwalk:v1 æœ€åçš„ . è¡¨ç¤ºä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„dockerfile ä¼šå‡ºç°ï¼š å½“æŒ‡ä»¤ç»“æŸåï¼Œæˆ‘ä»¬ä½¿ç”¨docker imageså°±å¯ä»¥çœ‹åˆ°æ„å»ºå¥½çš„é•œåƒä¿¡æ¯ ç”±äºæˆ‘ä»¬æœ€åä½¿ç”¨çš„æ˜¯CMDæ¥è¡¨ç¤ºå®¹å™¨è¿è¡Œçš„æŒ‡ä»¤ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡docker runçš„æ–¹å¼æ¥è¦†ç›–è¿™æ¡æŒ‡ä»¤æ¥è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°åœ¨/cliffwalkingç›®å½•ä¸‹ï¼Œæœ‰æˆ‘ä»¬COPYè¿›å»çš„æ–‡ä»¶å†…å®¹ï¼š è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†dockerçš„åŸºæœ¬å‘½ä»¤å’Œé•œåƒæ‰“åŒ…çš„å­¦ä¹ ï¼Œæœ€åä¸€ç« æˆ‘ä»¬ä¼šä»‹ç»å¦‚ä½•é«˜æ•ˆçš„å¯åŠ¨è¿è¡Œå®¹å™¨é•œåƒ ","date":"2023-11-14","objectID":"/docker-cmd/:0:2","tags":null,"title":"dockerå¸¸ç”¨å‘½ä»¤ä»¥åŠé•œåƒæ‰“åŒ…","uri":"/docker-cmd/"},{"categories":["Docker"],"content":"ä»€ä¹ˆæ˜¯docker dockerå¯ä»¥è¯´æ˜¯ä¸€é—¨æŠ€æœ¯ã€ä¸€ç§è½¯ä»¶ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å°†ç¨‹åºè¿›è¡Œæ‰“åŒ…ï¼Œä»è€Œæ–¹ä¾¿åç»­çš„é¡¹ç›®éƒ¨ç½²ä»¥åŠç»´æŠ¤ã€‚ ","date":"2023-11-14","objectID":"/docker-introduce/:0:1","tags":["docker"],"title":"dockerä»‹ç»ä»¥åŠå®‰è£…æ­¥éª¤è¯´æ˜","uri":"/docker-introduce/"},{"categories":["Docker"],"content":"ä¸ºä»€ä¹ˆè¦ç”¨docker åœºæ™¯ï¼šåšé¡¹ç›®å¼€å‘çš„åŒå­¦ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™ä¸ªé¡¹ç›®èƒ½å¤Ÿåœ¨æœ¬åœ°ä¸Šè¿è¡Œï¼Œä½†æ˜¯æ¢ä¸€å°ç”µè„‘å´ä¼šæŠ¥å„ç§å„æ ·çš„é”™è¯¯ï¼Œè¿™ä¸ªæ—¶å€™ä¸å¾—ä¸é¢å¯¹ç¯å¢ƒé…ç½®è¿™ä¸€æå…¶éº»çƒ¦çš„é—®é¢˜ æ‰€ä»¥æˆ‘ä»¬è¯´ï¼Œdockerå°†è¿‡å»çš„ç¨‹åºå’Œç³»ç»Ÿç¯å¢ƒçš„ç»‘å®šå…³ç³»ç»™æ‰“ç ´äº†ï¼Œåªè¦æˆ‘ä»¬çš„ç”µè„‘å®‰è£…äº†dockerï¼Œæˆ‘å°±å¯ä»¥é€šè¿‡æ‹‰å–äº‘ç«¯çš„é•œåƒï¼Œæ— éœ€å…³æ³¨ç¯å¢ƒçš„æ­å»ºå°±å¯ä»¥å®ç°è·¨å¹³å°çš„åº”ç”¨éƒ¨ç½²ã€‚æˆ‘ä»¬ä¸å†éœ€è¦é¢å¯¹ç¹æ‚çš„åº”ç”¨ä¸Šäº‘å‡ºç°çš„ç¯å¢ƒæ­å»ºé—®é¢˜ï¼Œå°±å¯ä»¥è½»æ¾åœ°ä½¿ç”¨æœåŠ¡ã€‚ ","date":"2023-11-14","objectID":"/docker-introduce/:0:2","tags":["docker"],"title":"dockerä»‹ç»ä»¥åŠå®‰è£…æ­¥éª¤è¯´æ˜","uri":"/docker-introduce/"},{"categories":["Docker"],"content":"æ€æ ·å®‰è£…docker å®‰è£…dockerï¼š Windowsç³»ç»Ÿï¼š åœ¨Windowsç³»ç»Ÿï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿è‡ªå·±çš„ç”µè„‘å®‰è£…äº†WSL ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€CMDï¼Œå¹¶æ•²å…¥ï¼š wsl --install å®˜æ–¹æ–‡æ¡£ï¼šå®‰è£… WSL | Microsoft Learn ï¼Œå¯æŸ¥é˜…å®˜æ–¹æ–‡æ¡£è·å¾—æ›´å¤šçš„ä¿¡æ¯ã€‚ ä¹‹åæˆ‘ä»¬å‰å¾€docker-desktopå®˜æ–¹ç½‘ç«™Docker Desktop: The #1 Containerization Tool for Developers | Docker ä¸‹è½½æœ€æ–°çš„docker-desktopå³å¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨å®‰è£…å¥½çš„docker-desktopä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å‡ ä¸ªé…ç½® è°ƒæ•´dockerè™šæ‹Ÿæœºçš„ä½ç½®ï¼Œä¸ç„¶æ ¹æ®åˆå§‹è®¾ç½®ï¼Œä¼šæŠŠCç›˜å æ»¡ ä¿®æ”¹dockerçš„é•œåƒæºä¿¡æ¯ï¼Œä¸ç„¶åœ¨docker pullæ‹‰å–é•œåƒæ—¶ï¼Œä¼šç‰¹åˆ«æ…¢ï¼š å°†å…¶ä¸­çš„å†…å®¹æ›¿æ¢æˆä¸‹è¿°ä¿¡æ¯ï¼š { \"builder\": { \"gc\": { \"defaultKeepStorage\": \"20GB\", \"enabled\": true } }, \"experimental\": false, \"features\": { \"buildkit\": true }, \"registry-mirrors\": [ \"http://hub-mirror.c.163.com\", \"https://mirror.ccs.tencentyun.com\" ] } æˆ–è€…ç›´æ¥ä¿®æ”¹C:\\Users\\{{ USERNAME }}\\.docker\\daemon.jsonå†…å®¹ä¸ºä¸Šè¿°ä¿¡æ¯ï¼Œé‡å¯dockerã€‚ åˆ¤æ–­æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨CMDä¸­ï¼Œæ•²å…¥ï¼š docker version å‡ºç°å¦‚ä¸‹ä¿¡æ¯å³å¯ï¼š dockerä¹‹æ‰€ä»¥éœ€è¦åœ¨Linuxç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œæ˜¯æºäºåœ¨ä½¿ç”¨goè¿›è¡Œç¼–å†™dockeræ—¶ï¼Œéœ€è¦å€ŸåŠ©Linuxç³»ç»Ÿçš„Namespaceå’ŒCgroupéš”ç¦»æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨Windowsä¸Šè¿è¡Œdockerå®è´¨ä¸Šæ˜¯åœ¨Windowsä¸Šå®‰è£…äº†ä¸€ä¸ªè™šæ‹ŸæœºWSLï¼Œåœ¨è™šæ‹Ÿæœºçš„å†…éƒ¨æ‰§è¡Œdocker Ubuntuç³»ç»Ÿï¼š æ›´æ–°ç´¢å¼•ï¼šsudo apt-get update å®‰è£…ï¼šsudo apt install docker.io ä¿®æ”¹é•œåƒæºï¼šåœ¨/etc/dockerç›®å½•ä¸‹åˆ›å»ºdaemon.jsonï¼Œåœ¨é‡Œé¢æ·»åŠ ï¼š { \"registry-mirrors\": [ \"http://hub-mirror.c.163.com\", \"https://mirror.ccs.tencentyun.com\" ] } å³å¯ åˆ¤æ–­æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼šdocker --versionï¼Œå‡ºç° å³å¯ CentOS/aliyunæœåŠ¡å™¨ï¼š å¸è½½æ—§ç‰ˆï¼ˆå¦‚æœä½ ä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡ï¼Œå¯è·³è¿‡è¿™ä¸€æ­¥ï¼‰ yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine å®‰è£…ä¾èµ–åŒ…ï¼šyum install -y yum-utils ä¸ºäº†é˜²æ­¢æ˜¯ä»å›½å¤–çš„æºä¸‹è½½ï¼Œæ‰€ä»¥é…ç½®é˜¿é‡Œäº‘åœ°å€ï¼šyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo æ›´æ–°ä¾èµ–ï¼šyum update å®‰è£…dockerï¼šyum install docker-ce docker-ce-cli containerd.io é…ç½®dockeré•œåƒæºï¼šåŒæ ·çš„åœ¨/etc/dockerç›®å½•ä¸‹åˆ›å»ºdaemon.jsonæ–‡ä»¶ï¼Œå¡«å…¥é•œåƒæºåœ°å€ä¿¡æ¯å³å¯ã€‚ å¯åŠ¨dockeræœåŠ¡ï¼šsystemctl start docker åˆ¤æ–­æ˜¯å¦å®‰è£…å®Œæˆï¼šæ§åˆ¶å°è¾“å…¥docker infoï¼Œçœ‹åˆ°é•œåƒæºä¿¡æ¯æ›´æ”¹å³ä¸ºå®‰è£…æˆåŠŸ å½“ç„¶ä½ å¯ä»¥ä¹Ÿå¯ä»¥åœ¨å…¶ä»–å¹³å°ä¸Šä½¿ç”¨docker infoæ¥åˆ¤æ–­é•œåƒæºçš„åœ°å€ä¿¡æ¯æ˜¯å¦æˆåŠŸä¿®æ”¹ ","date":"2023-11-14","objectID":"/docker-introduce/:0:3","tags":["docker"],"title":"dockerä»‹ç»ä»¥åŠå®‰è£…æ­¥éª¤è¯´æ˜","uri":"/docker-introduce/"},{"categories":["Docker"],"content":"ä¸€äº›æœ€åŸºæœ¬çš„æ¦‚å¿µ ä»“åº“Registryï¼šä½ å¯ä»¥ç†è§£ä¸ºç±»ä¼¼ä»£ç ä»“åº“çš„ä¸œè¥¿ï¼Œåªæ˜¯è¿™é‡Œé¢å­˜æ”¾çš„ä¸æ˜¯ä¸€æ®µæ®µä»£ç ï¼Œè€Œæ˜¯ä¸€å †é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æŒ‡ä»¤æ¥è·å¾—æˆ–ä¸Šä¼ é•œåƒä¿¡æ¯ã€‚ é•œåƒImageï¼šå®ƒæ˜¯ä¸€ç§æ¨¡æ¿ï¼Œå…·æœ‰åˆ›å»ºdockerå®¹å™¨çš„æŒ‡ä»¤ã€‚å¹¶ä¸”ä¸€ç§é•œåƒæ˜¯å¾—åŸºäºå¦ä¸€ç§é•œåƒæ‰èƒ½æ„å»ºã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªç†è§£ä¸ºè™šæ‹Ÿæœºå®‰è£…æ‰€éœ€çš„isoæ–‡ä»¶ï¼Œåªè¦æˆ‘æœ‰è¿™ä¸ªisoæ–‡ä»¶ï¼Œæˆ‘å°±å¯ä»¥æ‰“é€ å¤šä¸ªä¸€æ ·çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¿™ä¸ªisoçš„åŸºç¡€ä¸Šé™„å¸¦ä¸€äº›ä¸œè¥¿ï¼Œæ„æˆä¸€ä¸ªæ–°çš„isoã€‚ä¾‹å¦‚centosåˆ†ä¸ºminimalï¼ˆæœ€åŸºç¡€çš„ï¼‰ä»¥åŠdesktopï¼ˆå¸¦æœ‰æ¡Œé¢UIçš„ï¼‰ï¼Œdesktopå°±æ˜¯åŸºäºminimalï¼ŒåŒæ—¶åˆæ·»åŠ äº†æ–°çš„ä¸œè¥¿å½¢æˆçš„æ–°çš„isoæ–‡ä»¶ã€‚ å®¹å™¨Containerï¼šå®ƒæ˜¯ä¸€ç§è¿è¡Œå®ä¾‹ï¼Œæ¯ä¸ªå®¹å™¨ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»äº’ä¸å½±å“çš„ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½ æ‹¥æœ‰ä¸€ä¸ªisoæ–‡ä»¶æ—¶ï¼Œä½ ä¸æŠŠå®ƒæ”¾åœ¨VMwareä¸­äº§ç”Ÿä¸€ä¸ªè™šæ‹Ÿæœºå®ä¾‹ï¼Œé‚£ä¹ˆè¿™ä¸ªisoæ–‡ä»¶ä¹Ÿå°±æ¯«æ— ç”¨å¤„ã€‚è€Œä½ ä½¿ç”¨åŒä¸€ä¸ªisoæ–‡ä»¶åˆ›å»ºçš„ä¸åŒè™šæ‹Ÿæœºä¹‹é—´ä¹Ÿæ˜¯ä¸ä¼šæœ‰ä»»ä½•å½±å“ï¼Œä½ ä¸ä¼šå‘ç°ï¼Œåœ¨Aè™šæ‹Ÿæœºä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ï¼ŒBè™šæ‹Ÿæœºä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ°ã€‚ å¦‚æœä¸Šè¿°çš„ä¾‹å­è¿˜æ˜¯ä¸èƒ½è®©ä½ ç†è§£è¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»å’Œå®é™…çš„ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿æ—¥å¸¸å¼€å‘åšä¸€ä¸ªä¾‹å­ã€‚ä»“åº“Registryå°±æ˜¯github.comï¼›é•œåƒå°±æ˜¯github.comä¸­çš„pytorché¡¹ç›®ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨pytorchæœ¬èº«çš„ä¸œè¥¿åˆ›å»ºä¸€ä¸ªæ–°çš„ä¾‹å¦‚predictçš„é¡¹ç›®ä»£ç ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸Šä¼ åˆ°githubï¼›å®¹å™¨å°±ç›¸å½“äºæˆ‘ä»¬æ‰§è¡Œè¿™æ®µä»£ç çš„è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼ˆä¸è€ƒè™‘ä½¿ç”¨å…±äº«å†…å­˜ï¼Œç®¡é“ç­‰æ–¹å¼å®ç°è¿›ç¨‹é—´çš„æ§åˆ¶ï¼‰ã€‚ ","date":"2023-11-14","objectID":"/docker-introduce/:0:4","tags":["docker"],"title":"dockerä»‹ç»ä»¥åŠå®‰è£…æ­¥éª¤è¯´æ˜","uri":"/docker-introduce/"},{"categories":["Docker"],"content":"æ€»ç»“ åœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å¤§æ¦‚ä»‹ç»äº†dockerçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯å’Œå®‰è£…æ–¹å¼ï¼Œåœ¨ä¸‹ä¸€ç« æˆ‘ä»¬ä¼šåœ¨ubuntuç³»ç»Ÿä¸Šä»‹ç»dockerçš„åŸºæœ¬æ“ä½œã€‚ ","date":"2023-11-14","objectID":"/docker-introduce/:0:5","tags":["docker"],"title":"dockerä»‹ç»ä»¥åŠå®‰è£…æ­¥éª¤è¯´æ˜","uri":"/docker-introduce/"},{"categories":["Hugo"],"content":"ä¸ºä»€ä¹ˆè¦ç”¨Actionæ¥å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²hugoé¡¹ç›® ä¸é‡‡ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ¯æ¬¡æ›´æ–°é¡¹ç›®æ—¶ï¼Œéƒ½éœ€è¦åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œç„¶åä¸Šä¼ æ•´ä¸ªpublicç›®å½•ï¼Œæ¯”è¾ƒéº»çƒ¦ ä¸é‡‡ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ²¡åŠæ³•ç®¡ç†åšå®¢å†…å®¹ä»¥åŠç»´æŠ¤ ","date":"2023-11-12","objectID":"/workflow/:0:1","tags":["github","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"å¦‚ä½•åˆ©ç”¨GitHubçš„Actionå®ç°hugoé¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/workflow/"},{"categories":["Hugo"],"content":"æ€æ ·å®ç° åœ¨githubä¸Šåˆ›å»º {{ username }}.github.ioä»“åº“ï¼Œåœ¨mainåˆ†æ”¯çš„åŸºç¡€ä¸Šï¼Œæ–°å»ºsourceåˆ†æ”¯ç”¨äºå­˜æ”¾hugoçš„markdownæ–‡ä»¶ï¼Œè€Œmainåˆ†æ”¯ç”¨äºå­˜æ”¾ç¼–è¯‘å¥½åçš„æ–‡ä»¶ å‰æœŸå‡†å¤‡ï¼š åœ¨æœ¬åœ°ï¼Œä½¿ç”¨sshå·¥å…·åˆ›å»ºå…¬ç§é’¥ ssh-keygen -t rsa -N '' -f ./deploy-key -q åœ¨æœ¬åœ°æˆ‘ä»¬ä¼šå¾—åˆ°deploy-keyå’Œdeploy-key.pubä¸¤ä¸ªæ–‡ä»¶ ç°åœ¨éœ€è¦å°†sshå¯†é’¥ä¿¡æ¯è®¾ç½®åˆ°ä»“åº“ä¸­ï¼š æ·»åŠ deploy-keyä¿¡æ¯ deploy keyçš„titleéšä¾¿å¡«å†™å³å¯ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆçš„deploy-key.pubï¼ˆå³å…¬é’¥ï¼‰çš„å†…å®¹å¡«åˆ°keyä¸­ è®¾ç½®actionçš„å¯†é’¥ï¼š æ–°å»ºä¸€ä¸ªactions secret å…¶ä¸­Nameçš„å†…å®¹å¡«ä¸ºACTIONS_DEPLOY_KEYï¼ŒSecretçš„å†…å®¹å¡«ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„deploy-keyï¼ˆå³ç§é’¥ï¼‰çš„å†…å®¹ã€‚ åœ¨sourceåˆ†æ”¯ä¸­æ·»åŠ .github/workflows/main.ymlæ–‡ä»¶ï¼Œç”¨äºå®šä¹‰Github Actionsï¼Œå…¶ä¸­main.yamlæ–‡ä»¶å†…å®¹ä¸º name: auto-update-page # å®šä¹‰actionåç§° on: push: branches: - source # å½“sourceåˆ†æ”¯å‡ºç°pushè¡Œä¸ºæ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªaction jobs: deploy: runs-on: ubuntu-22.04 # å®šä¹‰ç¯å¢ƒä»¥åŠä¹‹åçš„è¡Œä¸º steps: - uses: actions/checkout@v4 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \"0.120.3\" extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} publish_dir: ./public external_repository: plutolove233/plutolove233.github.io publish_branch: main # å°†ç¼–è¯‘å¥½çš„publicé‡Œé¢çš„å†…å®¹éƒ¨ç½²åˆ°å¯¹åº”ä»“åº“çš„åˆ†æ”¯ä¸Š è®¾ç½®å®Œä¹‹åï¼Œæˆ‘ä»¬æŸ¥çœ‹ä»“åº“çš„Actionsï¼Œæˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼š çœ‹åˆ°å¦‚ä¸Šå†…å®¹ï¼Œå°±æ„å‘³ç€æˆ‘ä»¬è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å·¥ä½œæµå®Œæˆäº†ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¿®æ”¹éƒ¨åˆ†markdownæ–‡ä»¶ï¼Œä¸Šä¼ ä¹‹åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åšå®¢å†…å®¹ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ ","date":"2023-11-12","objectID":"/workflow/:0:2","tags":["github","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"å¦‚ä½•åˆ©ç”¨GitHubçš„Actionå®ç°hugoé¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/workflow/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"é—®é¢˜æè¿° ç»™å®šä¸€ä¸ª4Ã—12çš„ç½‘æ ¼ç¯å¢ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶ä¸­é»„è‰²åŒºåŸŸè¡¨ç¤ºæ‚¬å´–ï¼Œæˆ‘ä»¬ä¸èƒ½ç»è¿‡ï¼Œè“è‰²æ˜¯æˆ‘ä»¬çš„ç›®æ ‡åŒºåŸŸï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æ±‚å‡ºæ¯ä¸ªçŠ¶æ€å¦‚ä½•åˆ©ç”¨æœ€å°‘çš„æ­¥éª¤åˆ°è¾¾ç›®çš„ç‚¹ã€‚ ","date":"2023-11-10","objectID":"/cliffwalking/:0:1","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"ç¼–å†™å·¥å…·ç±»ä»£ç  # rl_utils.py def one_hot(index, num_size=10): return [1 if i == index else 0 for i in range(num_size)] class ReplayBuffer: def __init__(self, capacity): self.buffer = collections.deque(maxlen=capacity) def add(self, state, action, reward, next_state, done): self.buffer.append((state, action, reward, next_state, done)) def sample(self, batch_size): transitions = random.sample(self.buffer, batch_size) state, action, reward, next_state, done = zip(*transitions) return np.array(state), action, reward, np.array(next_state), done def size(self): return len(self.buffer) def train_off_policy_agent(env, agent, num_episodes, replay_buffer, minimal_size, batch_size): return_list = [] for i in range(10): with tqdm(total=int(num_episodes / 10), desc='Iteration %d' % i) as pbar: for i_episode in range(int(num_episodes / 10)): episode_return = 0 state = env.reset()[0] done = False while not done: action = agent.take_action(state) next_state, reward, done, _, _ = env.step(action) replay_buffer.add(state, action, reward, next_state, done) state = next_state episode_return += reward if replay_buffer.size() \u003e minimal_size: b_s, b_a, b_r, b_ns, b_d = replay_buffer.sample(batch_size) transition_dict = {'states': b_s, 'actions': b_a, 'next_states': b_ns, 'rewards': b_r, 'dones': b_d} agent.update(transition_dict) return_list.append(episode_return) if (i_episode + 1) % 10 == 0: pbar.set_postfix({'episode': '%d' % (num_episodes / 10 * i + i_episode + 1), 'return': '%.3f' % np.mean(return_list[-10:])}) pbar.update(1) return return_list ","date":"2023-11-10","objectID":"/cliffwalking/:0:2","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"åˆ¶å®šè§„åˆ™ æˆ‘ä»¬è§„å®šï¼Œæ¯èµ°ä¸€æ­¥æ‰€å¾—çš„rewardæ˜¯-1ï¼Œèµ°è¿›æ‚¬å´–çš„rewardæ˜¯-100ï¼Œåˆ°è¾¾ç›®æ ‡åœ°ç‚¹çš„rewardæ˜¯100ã€‚ æˆ‘ä»¬ç¼–å†™ç¯å¢ƒä»£ç å¦‚ä¸‹ï¼š # grid_world.py class GridWorld: \"\"\" æ‚¬å´–é—®é¢˜çš„ç¯å¢ƒå»ºç«‹ \"\"\" def __init__(self, row=4, col=12): self.action_num = 4 self.col = col self.row = row self.x = row - 1 self.y = 0 self.statue_dim = self.row*self.col self.action_dim = 4 def step(self, action) -\u003e (list, float, bool, bool, dict): action = int(action) # å‡è®¾ä¸€ä¸ª3*3çš„æƒ…æ™¯ï¼Œç›®çš„æ˜¯ä¸­é—´æ–¹å—ï¼Œæ±‚æœ€çŸ­è·ç¦» self.x = min(self.row - 1, max(0, self.x + change[action][0])) self.y = min(self.col - 1, max(0, self.y + change[action][1])) next_state = self.x * self.col + self.y reward = -1 done = False if self.x == self.row - 1 and self.y \u003e 0: done = True if self.y != self.col - 1: # enter into hole reward = -100 else: # reach the final reward = 100 nextState = np.array(rl.one_hot(next_state, num_size=self.row * self.col)) return nextState, reward, done, False, {} def reset(self) -\u003e (list, dict): self.x = self.row - 1 self.y = 0 label = self.x * self.col + self.y state = np.array(rl.one_hot(label, num_size=self.row * self.col)) return state, {} åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ç¯å¢ƒçš„å®šä¹‰ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬è¿”å›çš„çŠ¶æ€é‡‡ç”¨äº†ç‹¬çƒ­ç¼–ç ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œä¹‹åæˆ‘ä»¬æ„å»ºç½‘ç»œæ—¶ï¼Œè¾“å…¥çš„ç»´åº¦åº”è¯¥æ˜¯48ã€‚ ","date":"2023-11-10","objectID":"/cliffwalking/:0:3","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"ç¼–å†™ç¥ç»ç½‘ç»œç”¨æ¥æ‹ŸåˆQSA target æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œè¿™ä¸ªç½‘ç»œçš„è¾“å…¥æ˜¯48ï¼Œè¾“å‡ºåº”è¯¥æ˜¯actionä¸ªæ•°ã€‚ # grid_world.py class CliffWalkNet(nn.Module): \"\"\" æ‚¬å´–é—®é¢˜ç¥ç»ç½‘ç»œæ„é€  \"\"\" def __init__(self, in_dim, hidden_dim, out_dim): super(CliffWalkNet, self).__init__() self.layer = nn.Sequential( nn.Linear(in_dim, hidden_dim), nn.ReLU(), nn.Linear(hidden_dim, hidden_dim), nn.ReLU(), nn.Linear(hidden_dim, out_dim) ) def forward(self, x): return self.layer(x) åœ¨é‡Œé¢ä½¿ç”¨ä¸‰ä¸ªå…¨è¿æ¥å±‚ï¼Œä»¥åŠä¸¤ä¸ªéšè—å±‚ã€‚ ","date":"2023-11-10","objectID":"/cliffwalking/:0:4","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"ç¼–å†™DQNæ ¸å¿ƒä»£ç  æˆ‘ä»¬æ¯ä¸ªåŠ¨ä½œé‡‡ç”¨Îµè´ªå©ªç­–ç•¥ï¼Œä»¥åŠè§„å®šæ¯æ¬¡æ“ä½œæ‰§è¡Œçš„æ›´æ–°æ–¹æ³• class CliffWalkDQLearning: def __init__(self, in_dim, hidden_dim, action_dim): self.ActionNumber = action_dim self.Q_net = CliffWalkNet(in_dim, hidden_dim, action_dim).to(device) self.Q_target = CliffWalkNet(in_dim, hidden_dim, action_dim).to(device) self.optimizer = torch.optim.Adam(self.Q_net.parameters(), lr=learning_rate) self.criterion = nn.MSELoss() self.count = 0 self.QSA = [[0, 0, 0, 0] for _ in range(in_dim)] def take_action(self, state): if np.random.random() \u003c epsilon: return np.random.randint(self.ActionNumber) state = torch.tensor(state, dtype=torch.float).to(device) return self.Q_net(state).argmax().item() def update(self, transition: dict): # load data from dictionary states_ = torch.tensor(transition.get(\"states\"), dtype=torch.float).to(device) actions_ = torch.tensor(transition.get(\"actions\")).view(-1, 1).to(device) rewards_ = torch.tensor(transition.get(\"rewards\"), dtype=torch.float).view(-1, 1).to(device) next_states_ = torch.tensor(transition.get(\"next_states\"), dtype=torch.float).to(device) dones_ = torch.tensor(transition.get(\"dones\"), dtype=torch.float).view(-1, 1).to(device) q_values = self.Q_net(states_).gather(1, actions_) # æ¯åˆ—æ”¶é›†å¯¹åº”actions_æ‹Ÿåˆçš„valueå€¼ max_qvalue = self.Q_target(next_states_).max(1)[0].view(-1, 1) q_target = rewards_ + gamma * max_qvalue * (1-dones_) loss = self.criterion(q_values, q_target) self.optimizer.zero_grad() loss.backward() self.optimizer.step() if self.count % update_times == 0: net_state_dict = self.Q_net.state_dict() self.Q_target.load_state_dict(net_state_dict) self.count += 1 ","date":"2023-11-10","objectID":"/cliffwalking/:0:5","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"æ‰§è¡Œä»£ç ï¼Œè¿›è¡Œæ¨¡å‹è®­ç»ƒ æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨rl_utilsé‡Œé¢çš„ï¼ˆoff_policyï¼‰å·¥å…·ï¼Œè¿›è¡ŒDQNçš„è®­ç»ƒ env = GridWorld() dim = env.row*env.col agent = CliffWalkDQLearning(in_dim=dim, hidden_dim=int(dim/2), action_dim=4) buffer = rl.ReplayBuffer(1000) random.seed(0) np.random.seed(0) torch.manual_seed(0) return_list = rl.train_off_policy_agent(env, agent, num_episodes, buffer, minimal_size, batch_size) episodes_list = list(range(len(return_list))) plt.plot(episodes_list, return_list) plt.xlabel('Episodes') plt.ylabel('Returns') plt.title('DQN on {}'.format(\"Cliff Walking\")) plt.show() ","date":"2023-11-10","objectID":"/cliffwalking/:0:6","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"æ¨¡å‹ä¿å­˜ torch.save({\"CliffWalking\": agent.Q_target.state_dict()}, \"./cliff_walking.pth\") # load model model = CliffWalkNet(in_dim=dim, hidden_dim=int(dim/2), out_dim=4).to(device) state_dict = torch.load(\"./cliff_walking.pth\")[\"CliffWalking\"] model.load_state_dict(state_dict) res = [[0, 0, 0, 0] for _ in range(dim)] for i in range(4): for j in range(12): state = rl.one_hot(i*12+j, dim) input_ = torch.tensor(state, dtype=torch.float).to(device) target = model(input_).cpu().detach().numpy().tolist() res[i*12+j] = target # print(\"state(%d,%d):\" % (i, j)) # print(target) # print() print_agent(res, env, action_graph, list(range(37, 47)), [47]) æˆ‘ä»¬å°†è®­ç»ƒå¥½çš„æ¨¡å‹ä¿å­˜ï¼Œä¹‹åå¯¼å…¥modelï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é¿å…é‡å¤çš„æ¨¡å‹è®­ç»ƒï¼Œç›´æ¥è®¡ç®—æ¯ä¸ªç»“ç‚¹çš„QSAï¼Œå¯»æ‰¾æ¯ä¸ªçŠ¶æ€çš„actionæœ€å¤§å€¼ï¼Œä»è€Œå¾—å‡ºè®­ç»ƒåçš„ç­–ç•¥ç»“æœã€‚ ç”±ä¸Šè¿°ç»“æœï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸ªçŠ¶æ€éƒ½å·²ç»æ‰¾åˆ°äº†æœ€ä¼˜çš„ç­–ç•¥ï¼Œè¿™ä¸ªæ¨¡å‹çš„ç»“æœè¿˜ç®—å¯ä»¥ã€‚ ","date":"2023-11-10","objectID":"/cliffwalking/:0:7","tags":["pytorch","DQN","RL"],"title":"DQNç®—æ³•ç¤ºä¾‹ï¼šCliffWalkingé—®é¢˜","uri":"/cliffwalking/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"åŸºæœ¬æ¦‚å¿µï¼š å¯¹äºå¼ºåŒ–å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåˆ†æˆæ™ºèƒ½ä½“ï¼ˆagentï¼‰ï¼Œç¯å¢ƒï¼ˆé€šè¿‡æ™ºèƒ½ä½“çš„çŠ¶æ€å’ŒåŠ¨ä½œåé¦ˆä¿¡æ¯ï¼‰ä¸¤å¤§éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç°åœ¨ä»‹ç»ä¸€äº›åè¯ï¼Œä»è€Œæœ‰åˆ©äºä¹‹åå­¦ä¹ çš„ç†è§£ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šç»“åˆä¸€ä¸ª3Ã—3çš„ç½‘æ ¼å¯»è·¯æ¥å½¢è±¡åŒ–ä»‹ç»ä¸‹è¿°æ¦‚å¿µã€‚ æˆ‘ä»¬æœ€åˆä½ç½®æ˜¯åœ¨ï¼ˆ1ï¼Œ1ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨æœ€çŸ­çš„æ—¶é—´å†…åˆ°è¾¾è“è‰²ç½‘æ ¼ä½ç½®ã€‚ Stateï¼šagentç›¸å¯¹äºenvironmentçš„çŠ¶æ€ã€‚ä¾‹å¦‚ä»¥s1è¡¨ç¤ºç½‘æ ¼ï¼ˆ1ï¼Œ1ï¼‰ï¼Œs9è¡¨ç¤ºç½‘æ ¼ï¼ˆ3ï¼Œ3ï¼‰ã€‚æ‰€æœ‰çš„çŠ¶æ€ä¼šæ„æˆSï¼ˆState Setï¼‰ã€‚ Actionï¼šæ¯ä¸ªçŠ¶æ€å¯èƒ½é‡‡å–çš„è¡ŒåŠ¨ã€‚ä¾‹å¦‚å‘ä¸Šï¼ˆa1ï¼‰ã€ä¸‹ï¼ˆa3ï¼‰ã€å·¦ï¼ˆa4ï¼‰ã€å³ï¼ˆa2ï¼‰èµ°ï¼Œè¿™æ‰€æœ‰çš„åŠ¨ä½œä¼šæ„æˆAï¼ˆAction Setï¼‰ã€‚ state transitionï¼šagentä»s1â†’s4çš„è¿‡ç¨‹ã€‚ state transition probabilityï¼šç”¨æ¡ä»¶æ¦‚ç‡çš„å½¢å¼ï¼Œè¡¨ç¤ºè½¬ç§»çš„æƒ…å†µã€‚ä¾‹å¦‚p(s4|s1, a3)=0.5è¡¨ç¤ºä»çŠ¶æ€s1æ‰§è¡ŒåŠ¨ä½œa3ï¼ˆå‘ä¸‹ï¼‰åˆ°è¾¾çŠ¶æ€s4çš„å¯èƒ½æ€§æ˜¯0.5ï¼ˆå› ä¸ºè¿˜å¯ä»¥å‘å³åˆ°è¾¾s2çš„å¯èƒ½ï¼‰ã€‚ Rewardï¼šä¸€ä¸ªæ•°å­—ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªstate transitionè¡Œä¸ºæ‰€äº§ç”Ÿçš„æ¿€åŠ±ã€‚ forbidden areaï¼šè¿›å…¥ä½†æ˜¯ä¼šäº§ç”ŸæŸå¤±çš„åŒºåŸŸï¼ˆReward\u003c0ï¼‰ã€‚ä¾‹å¦‚å›¾ç¤ºä¸­çš„é»„è‰²åŒºåŸŸã€‚ Policyï¼šè®©agentçŸ¥é“åœ¨æŸä¸ªçŠ¶æ€è¯¥å¦‚ä½•è¡ŒåŠ¨ï¼Œä¹Ÿæ˜¯ç”¨æ¡ä»¶æ¦‚ç‡çš„å½¢å¼æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚Ï€(a1|s1)=0ï¼ŒÏ€(a2|s1)=0.5ã€‚åŒæ—¶æˆ‘ä»¬åº”è¯¥è¿˜æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼š $$ \\sum_{a\\in A}\\pi(a|s_j) = 1 $$ Trajectoryï¼šæ˜¯æ•´ä¸ªçŠ¶æ€è¡Œä¸ºé“¾ï¼Œä¾‹å¦‚s1(a2)â†’s2(a3)â†’s5(a3)â†’s8(a2)â†’s9(a4)â†’s8â€¦ Returnï¼šè¡¨ç¤ºæ•´ä¸ªTrajectoryä¸ŠRewardä¹‹å’Œ Discounted Rateï¼šç”±ä¸Šå¯çŸ¥ï¼Œä¸€ä¸ªTrajectoryå¯èƒ½æ˜¯æ— ç©·æ— å°½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰Î³æ¥ç§æŠ˜æ‰£Rewardï¼Œä»è€Œä½¿æ•´ä¸ªè¿‡ç¨‹çš„Returnä¸ä¼šå¤ªå¤§ã€‚ Discounted Returnï¼šè¡¨ç¤ºæ•´ä¸ªTrajectoryçš„æŠ˜æ‰£å›æŠ¥æ€»å’Œï¼Œå…·ä½“è¡¨ç¤ºä¸ºï¼š $$ Discounted\\ Return=\\sum_{i=1}^\\infin \\gamma^{i-1}r_i $$ æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªç»“æœæœ€ç»ˆä¼šæ”¶æ•›åˆ°ä¸€ä¸ªå€¼ã€‚å¹¶ä¸”Î³è¶Šå°ï¼Œé‚£ä¹ˆDiscounted Returnä¼šä¸æœ€æ—©çš„rewardç›¸å…³ï¼ˆæ›´è¿‘è§†ï¼‰ï¼ŒÎ³è¶Šå¤§ä¹Ÿå°±è¶Šè¿œè§† Episodeï¼šä¸€ä¸ªæœ‰é™æ­¥çš„Trajectoryï¼Œå¹¶ä¸”æœ€ç»ˆçŠ¶æ€æ—¶terminal stateï¼ˆç›®æ ‡çŠ¶æ€ï¼Œå³å›¾ä¸­è“è‰²æ–¹å—ï¼‰ã€‚ ","date":"2023-11-10","objectID":"/concept/:0:1","tags":["RL","math"],"title":"å¼ºåŒ–å­¦ä¹ æ•°å­¦çŸ¥è¯†æ€»ç»“","uri":"/concept/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"é©¬å°”å¯å¤«è¿‡ç¨‹ éšæœºè¿‡ç¨‹ éšæœºè¿‡ç¨‹ç ”ç©¶çš„å¯¹è±¡æ˜¯ï¼Œéšæ—¶é—´æ”¹å˜çš„éšæœºç°è±¡ã€‚ä¾‹å¦‚æœ¬ä¾‹å­ä¸­ï¼Œæ—¶åˆ»1åœ¨çŠ¶æ€s1ï¼Œæ—¶åˆ»2å¯èƒ½å°±ä¼šåœ¨s2è·s4ã€‚è¿™ä¸€è¿‡ç¨‹æ˜¯éšæœºçš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ $$ P(s_{t+1}|a_{t+1},s_{t}, a_{t}, s_{t-1}â€¦a_1, s_0) $$ æ¥è¡¨ç¤ºä¸‹ä¸€ä¸ªæ—¶åˆ»ï¼ŒçŠ¶æ€çš„å¯èƒ½æ€§ é©¬å°”å¯å¤«æ€§è´¨ å½“å‰çŠ¶æ€åªä¸ä¸Šä¸€ä¸ªçŠ¶æ€æœ‰å…³æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªè¿‡ç¨‹å…·æœ‰é©¬å°”å¯å¤«æ€§è´¨ï¼Œå³ $$ P(s_{t+1}|a_{t+1},s_{t}, a_{t}, s_{t-1}â€¦a_1, s_0)=P(s_{t+1}|a_{t+1}, s_t) $$ åœ¨æœ¬ä¾‹å­ä¸­ï¼Œæ¯ä¸ªæ—¶åˆ»åˆ°è¾¾æŸä¸ªç½‘æ ¼çš„çŠ¶æ€å¯èƒ½å®Œå…¨å–å†³äºä¸Šä¸€æ—¶åˆ»æ‰€åœ¨çŠ¶æ€å’ŒåŠ¨ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸ªç½‘æ ¼å¯»è·¯çš„ä¾‹å­æ˜¯æ»¡è¶³é©¬å°”å¯å¤«æ€§è´¨çš„ã€‚ å‡ ä¸ªæ–°çš„æ¦‚ç‡ $$ P(sâ€™|s, a)è¡¨ç¤ºs\\stackrel{a}{\\longrightarrow}sâ€™å³ä»sæ‰§è¡ŒåŠ¨ä½œaåˆ°è¾¾sâ€™çš„æ¦‚ç‡\\\\ P(r |s, a)è¡¨ç¤ºs\\stackrel{a}{\\longrightarrow}sâ€™è¿™ä¸€è¿‡ç¨‹è·å¾—reward=rçš„æ¦‚ç‡\\\\ $$ æ–°çš„æ¦‚å¿µ State Value $$ v_{\\pi}(s)=\\mathbb{E}(G_t|S=s)\\\\ $$ å›æŠ¥çŸ©é˜µGï¼šè¡¨ç¤ºå½“å‰æ—¶åˆ»æ‰€æœ‰çŠ¶æ€æ‰€è·å¾—çš„discounted return $$ G_t=R_{t+1}+\\gamma G_{t+1} $$ è´å°”æ›¼å…¬å¼ æˆ‘ä»¬å°†ä¸Šè¿°å¼å­è¿›è¡Œå±•å¼€ä»¥åŠå½’çº³ï¼Œå¯å¾—è´å°”æ›¼å…¬å¼ï¼š $$ \\forall s\\in Sï¼Œv_{\\pi}(s)=\\mathbb{E}(G_t|S_t=s)=\\mathbb{E}(R_{t+1}|S_t=s)+\\gamma\\mathbb{E}(G_{t+1}|S_t=s)\\\\ =\\sum_{a\\in A}\\pi(a|s)\\sum_rp(r|s,a)r + \\gamma\\sum_{sâ€™}\\mathbb{E}(G_{t+1}|S_{t+1}=sâ€™,S_t=s)P(sâ€™|s)\\\\ =\\sum_{a\\in A}\\pi(a|s)\\sum_rp(r|s,a)r +\\gamma\\sum_{sâ€™}v_{\\pi}(sâ€™)\\sum_{a\\in A}P(sâ€™|s, a)\\pi(a|s) $$ æˆ‘ä»¬å°†è¿™ä¸ªå…¬å¼åŒ–æˆçŸ©é˜µçš„å½¢å¼ $$ \\mathbf{v_{\\pi}}=\\mathbf{r_{\\pi}}+\\gamma\\mathbf{P_{\\pi}}\\mathbf{v_{\\pi}} $$ å…¶ä¸­ï¼š $$ r_{\\pi}(s)=\\sum_{a\\in A}\\pi(a|s)\\sum_rp(r|s,a)r\\\\ P_{\\pi}(sâ€™|s)=\\sum_{a \\in A}p(sâ€™|s,a)\\pi(a|s)ï¼Œå³s\\rarr sâ€™çš„å¯èƒ½æ€§\\\\ \\mathbf{P_{\\pi(i,j)}} = P_{\\pi}(s_j|s_i) $$ æˆ‘ä»¬è¯¥å¦‚ä½•æ±‚è§£â€”â€”æ±‚state value æ±‚çŸ©é˜µçš„é€† è¿­ä»£çš„æ–¹å¼: å…ˆéšæœºè®¾ç½®v0åˆå§‹å€¼ åˆ©ç”¨ $$ \\mathbf{v_{k+1}}=\\mathbf{r_{\\pi}}+\\gamma\\mathbf{P_{\\pi}}\\mathbf{v_{k}} $$ ä¸æ–­è¿›è¡Œè¿­ä»£ï¼Œå½“kâ†’âˆæ—¶ï¼Œvkâ†’vÏ€ ","date":"2023-11-10","objectID":"/concept/:0:2","tags":["RL","math"],"title":"å¼ºåŒ–å­¦ä¹ æ•°å­¦çŸ¥è¯†æ€»ç»“","uri":"/concept/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"å®‰è£…pytorch æˆ‘ä»¬ä»¥è‹±ä¼Ÿè¾¾æ˜¾å¡ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è‡ªå·±ç”µè„‘å¯¹åº”cudaç‰ˆæœ¬ä¿¡æ¯ï¼š åœ¨æ§åˆ¶å°è¾“å…¥nvidia-smiæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹åº”cudaç‰ˆæœ¬çš„ä¿¡æ¯å†…å®¹ï¼š ä»ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯çŸ¥ï¼šå½“å‰æˆ‘ä»¬CUDAçš„ç‰ˆæœ¬æ˜¯11.2ï¼Œä¹‹åæˆ‘ä»¬å»pytorchå®˜æ–¹ç½‘é¡µ æŸ¥è¯¢å¯¹åº”pytorchçš„ç‰ˆæœ¬ä¿¡æ¯ï¼ŒæŒ‰ç…§ç»™å‡ºçš„å®‰è£…å‘½ä»¤ä¿¡æ¯å®‰è£…å³å¯ã€‚ ç”±äºpytorchå®˜ç½‘å¹¶æ²¡æœ‰cuda11.2çš„å®‰è£…æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©å®‰è£…cuda11.1çš„ç¯å¢ƒ pip install torch==1.9.1+cu111 torchvision==0.10.1+cu111 torchaudio==0.9.1 -f https://download.pytorch.org/whl/torch_stable.html æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸‹ä»£ç æ¥åˆ¤æ–­pytorchæ˜¯å¦å·²ç»æ­£ç¡®å®‰è£…ä»¥åŠè¯†åˆ«åˆ°æ˜¾å¡é©±åŠ¨ import torch print(torch.cuda.is_available()) print(torch.cuda.current_device()) print(torch.cuda.device_count()) print(torch.cuda.get_device_name(0)) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š ","date":"2023-11-09","objectID":"/linear/:0:1","tags":["pytorch","mechine learning"],"title":"pytorchå®ç°çº¿æ€§æ‹Ÿåˆ","uri":"/linear/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"ç¼–å†™ä»£ç  ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿›è¡Œä»£ç ç¼–å†™è¿‡ç¨‹äº† æ„é€ æ•°æ®é›†ï¼Œæˆ‘ä»¬å‡è®¾æ‹Ÿåˆçš„ç»“æœæ˜¯ $$ y=w_1\\times x_1 + w_2\\times x_2 + b\\\\ å³y=\\begin{bmatrix} w_1 \u0026 w_2 \\\\ \\end{bmatrix} \\begin{bmatrix} x_1\\\\ x_2\\\\ \\end{bmatrix}+b $$ ä¸ºäº†èƒ½å¤Ÿä½“ç°æœºå™¨å­¦ä¹ æ‹Ÿåˆçš„æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬åœ¨ç”Ÿæˆæ•°æ®ç‚¹æ—¶ä¼šå¢åŠ ä¸€äº›å™ªå£°ï¼Œä»è€Œä½“ç°å‡ºæ•°æ®çš„æ··ä¹± ä»£ç å®ç°ï¼š def synthetic_data(w, b, num_examples): \"\"\"ç”Ÿæˆ y = Xw + b + å™ªå£°ã€‚\"\"\" X = torch.normal(0, 1, (num_examples, len(w))) # Xæ˜¯å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„éšæœºæ•°ã€‚æœ‰num_examplesä¸ªæ ·æœ¬ï¼Œåˆ—å°±æ˜¯len(w) y = torch.matmul(X, w) + b # Yæ˜¯Xä¸wçš„ä¹˜ç§¯ï¼ˆmatmul == mmï¼ŒçŸ©é˜µç›¸ä¹˜ï¼‰åŠ ä¸Šåå·®b y += torch.normal(0, 0.01, y.shape) # åŠ å…¥ä¸€ä¸ªå™ªéŸ³ï¼Œå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º0.01ï¼Œå½¢çŠ¶ä¸yç›¸åŒ return X, y.reshape((-1, 1)) # å…¶ä¸­ï¼Œyè¿”å›ä¸€ä¸ªåˆ—å‘é‡ã€‚-1è¡¨ç¤ºè‡ªåŠ¨è®¡ç®—ï¼Œ1è¡¨ç¤ºå›ºå®šï¼Œå³åˆ—å‘é‡ä¸º1 true_w = torch.tensor([2, -3.4]) true_b = 4.2 features, labels = synthetic_data(true_w, true_b, 1000) æˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å›¾åƒï¼Œç”¨äºæ˜¾ç¤ºæˆ‘ä»¬æ„é€ çš„æ•°æ®ï¼š ç„¶åæˆ‘ä»¬å°†æ•°æ®è¿›è¡Œå°è£…æˆDataset class LinearDataSet(Dataset): def __init__(self, x, y): self.X = torch.FloatTensor(x) self.Y = torch.FloatTensor(y) def __getitem__(self, index): return self.X[index], self.Y[index] def __len__(self): return len(self.X) trainSet = LinearDataSet(features, labels) trainLoader = DataLoader(trainSet, batch_size=10, shuffle=True, pin_memory=True) æˆ‘ä»¬ç°åœ¨ç¼–å†™ç½‘ç»œï¼Œä»¥åŠç¼–å†™ä¸€ä¸ªè®­ç»ƒè¿‡ç¨‹ï¼š class LinearNetWork(nn.Module): def __init__(self, n_feature): super(LinearNetWork, self).__init__() self.layers = nn.Sequential( nn.Linear(n_feature, 1) # å®šä¹‰ä¸€ä¸ªæœ€ç®€å•çº¿æ€§å…¨è¿æ¥å±‚ ) def forward(self, x): y = self.layers(x) return y def Trainer(train_loader: DataLoader, model: LinearNetWork): criterion = nn.MSELoss() # å®šä¹‰ä¸€ä¸ªå‡æ–¹è¯¯å·® optimizer = torch.optim.SGD(model.parameters(), lr=0.03) # å®šä¹‰ä¸€ä¸ªä¼˜åŒ–å™¨ for i in range(epoch): model.train() for x, y in train_loader: optimizer.zero_grad() # é‡‡ç”¨æ¢¯åº¦ä¸‹é™ï¼Œæ¯æ¬¡è®­ç»ƒéƒ½éœ€è¦å°†æ¢¯åº¦ä¿¡æ¯æ¸…é›¶ x, y = x.to(device), y.to(device) pred = model(x) loss = criterion(pred, y) print(\"loss=\", loss.detach().item()) loss.backward() # æ¢¯åº¦å›é€€ optimizer.step() model = LinearNetWork(2).to(device) # å› ä¸ºæˆ‘ä»¬æ€»å…±å°±ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼ å…¥çš„ç‰¹å¾ä¿¡æ¯ä¸º2 Trainer(trainLoader, model) print(model.state_dict()) è¿™æ ·æˆ‘ä»¬ä¸€ä¸ªæœ€ç®€å•çš„ç¥ç»ç½‘ç»œå·²ç»æ„æˆï¼Œæˆ‘ä»¬æ‰§è¡Œä¸Šè¿°ä»£ç æŸ¥çœ‹ç½‘ç»œæ¯å±‚çš„ä¿¡æ¯ï¼š ","date":"2023-11-09","objectID":"/linear/:0:2","tags":["pytorch","mechine learning"],"title":"pytorchå®ç°çº¿æ€§æ‹Ÿåˆ","uri":"/linear/"},{"categories":["æœºå™¨å­¦ä¹ ä¹‹è·¯"],"content":"æ€»ç»“ æ€»çš„æ¥è¯´ï¼Œè¿™æ¬¡è¿™ä¸ªä»»åŠ¡è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œï¼Œå®Œæˆäº†æœ€ç®€å•çš„çº¿æ€§æ‹Ÿåˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œé¢ä¸€çª¥æœºå™¨å­¦ä¹ çš„åŸºæœ¬è¿‡ç¨‹ã€‚æˆ‘ä»¬éœ€è¦è·å–æ•°æ®ã€æ•°æ®å¤„ç†ã€æ„é€ ç½‘ç»œã€è¿›è¡Œè®­ç»ƒã€è°ƒæ•´å‚æ•°ï¼Œç„¶åä¸æ–­å¾ªç¯å¾€å¤ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªåŠ å¥½çš„ç»“æœã€‚ ","date":"2023-11-09","objectID":"/linear/:0:3","tags":["pytorch","mechine learning"],"title":"pytorchå®ç°çº¿æ€§æ‹Ÿåˆ","uri":"/linear/"},{"categories":null,"content":"ä¸ªäººä»‹ç» å‡ºç”Ÿäº2002å¹´6æœˆï¼Œå–œæ¬¢goè¯­è¨€ï¼ŒLOLçš„è’Ÿè’»ã€‚ ç›®å‰åœ¨ååŒ—ç”µåŠ›å¤§å­¦å°±è¯»è½¯ä»¶å·¥ç¨‹æœ¬ç§‘å­¦ä¸šã€‚ ç›®å‰æ­£åœ¨å­¦ä¹ å¼ºåŒ–å­¦ä¹ ï¼Œå¸Œæœ›èƒ½å¤Ÿé€šè¿‡ç¼–å†™ä¸ªäººåšå®¢æ¥å¢åŠ æˆ‘å­¦ä¹ çš„åŠ¨åŠ›ï¼Œä»¥åŠè®°å½•æˆ‘å­¦ä¹ çš„è¿‡ç¨‹ã€‚ åšå®¢ä¼šæ›´æ–°ä»€ä¹ˆ æœ¬ç§‘ä»¥åŠä¹‹åç ”ç©¶ç”Ÿå­¦ä¹ çš„è¿‡ç¨‹å’Œç»“æœ goè¯­è¨€ç›¸å…³çš„å†…å®¹ï¼Œä¼šåŒ…æ‹¬æœ€æ–°ç‰¹æ€§ï¼Œä»¥åŠæˆ‘è§‰å¾—æœ‰ç”¨çš„ä¸œè¥¿ dockeråº”ç”¨ç¤ºä¾‹ï¼Œæˆ‘å¸Œæœ›é€šè¿‡å‡ ä¸ªç®€çŸ­çš„ç« èŠ‚èƒ½å¤Ÿè®©ä½ äº†è§£dockerå¦‚ä½•éƒ¨ç½²ä¸€ä¸ªé¡¹ç›® æˆ–è®¸è¿˜ä¼šæœ‰ä¸€äº›æ¯å‘¨å¿ƒå¾—ä½“ä¼šä»€ä¹ˆçš„ï¼Ÿ æˆ‘ä¹Ÿå¸Œæœ›èƒ½å¤Ÿæœ‰äººåœ¨é˜…è¯»æˆ‘çš„åšå®¢ä¹‹åï¼Œå‘é€emailï¼ˆyizhigopher@163.comï¼‰å’Œæˆ‘äº¤æµï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨å„ä½å¤§ä½¬å˜å¾—æ›´å¼ºï¼Œæ— é™è¿›æ­¥ã€‚ ","date":"2023-11-08","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"},{"categories":null,"content":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä»½åšå®¢ï¼Œç”¨äºæµ‹è¯• package main import \"fmt\" func main(){ fmt.Println(\"Hello World\") } $$ \\sum_{i=0}^{100}i = 5050 $$ ","date":"2023-11-08","objectID":"/first_post/:0:0","tags":["hugo"],"title":"First_post","uri":"/first_post/"}]