+++
title = 'Hello Go!'
date = 2024-10-30T10:16:11+08:00
tags = ['golang', 'study']
categories = ['golangä¹‹è·¯']
pre = "/go-install"
draft = false
+++

åœ¨å®Œæˆäº†ä¸Šä¸ªç« èŠ‚çš„Goç¼–è¯‘å™¨å®‰è£…åï¼Œæœ¬ç« èŠ‚å°†ä»‹ç»Goçš„åŸºç¡€è¯­æ³•ï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­è¿›è¡Œå±•ç¤ºã€‚
# Hello World
å­¦ä¹ æ¯ä¸ªè¯­è¨€çš„ç¬¬ä¸€æ­¥æ°¸è¿œæ˜¯å­¦ä¼šå¦‚ä½•åœ¨æ§åˆ¶å°æ‰“å°ğŸ˜Šï¼Œç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹goå¦‚ä½•å®ç°`Hello World`ï¼š
```go
package main

import "fmt"

func main(){
    fmt.Println("Hello World!")
}
```
æˆ‘ä»¬é€è¡Œåˆ†æè¯´æ˜ï¼š
- ç¬¬1è¡Œä½¿ç”¨`package main`ç”³æ˜è¿™æ˜¯ä¸€ä¸ªä¸»åŒ…ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸»åŒ…ä¸‹é¢å®šä¹‰`func main()`å‡½æ•°ï¼Œç”¨äºå£°æ˜ç¨‹åºå…¥å£ã€‚
- ç¬¬3è¡Œä½¿ç”¨`import`æ¥å¯¼å…¥å¤–éƒ¨åŒ…`"fmt"`ï¼Œè¯¥åŒ…é€šå¸¸ç”¨äºå®ç°æ ¼å¼åŒ–çš„I/Oæ“ä½œï¼Œè¿™ä¸ªä¸Cçš„`<cstdio>`ç›¸ä¼¼ã€‚
- ç¬¬5è¡Œä½¿ç”¨`func main()`æ¥ç”³æ˜ç¼–è¯‘å…¥å£ä»¥åŠç¨‹åºæ‰§è¡Œçš„å¼€å§‹ä½ç½®ã€‚
- ç¬¬6è¡Œä½¿ç”¨`fmt.Println("Hello World!")`å‘æ§åˆ¶å°è¾“å‡º`Hello World!`

é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘ä»¬ä»‹ç»ä¸‹goè¯­è¨€ä¸€ä¸ªç¨‹åºæ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼š

1. åŒ…åã€‚æ¯ä¸ªgoç¨‹åºéƒ½éœ€è¦ç”³æ˜è¯¥ç¨‹åºæ‰€å±çš„åŒ…ï¼Œåœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ‰€æœ‰ä»£ç çš„åŒ…åå‡ä¸º`main`ï¼Œè€Œå¯¹äºgoçš„åŒ…ç®¡ç†æ–¹å¼ï¼Œæˆ‘ä»¬å°†åœ¨åç»­çš„ç« èŠ‚ä¸­è¿›è¡Œä»‹ç»ã€‚
2. å¯¼å…¥å¤–éƒ¨åŒ…ã€‚æƒ³è¦å®ç°ä¸€æ®µä»£ç ï¼Œä¸å¯é¿å…éœ€è¦è°ƒç”¨å·²ç»å°è£…å¥½çš„ç¨‹åºï¼Œå› æ­¤é€šè¿‡`import`æ¥å¯¼å…¥ä¸€äº›å¿…è¦çš„å¤–éƒ¨åŒ…ï¼Œä¾‹å¦‚æœ¬ä¾‹å­ä¸­çš„`fmt`ï¼Œä»¥åŠä¸€äº›å¸¸ç”¨çš„`bytes`ï¼Œ`net`ç­‰ï¼Œè¿™äº›å‡æ˜¯å·²ç»å°è£…å¥½çš„æ ‡å‡†åº“ã€‚è¿™äº›æ ‡å‡†åº“çš„ä½ç½®åœ¨`${GOROOT}/src`ä¸­
3. å‡½æ•°ã€‚goè¯­è¨€å‡½æ•°ç”³æ˜æ ¼å¼ä¸º`func functionName(args)`å¹¶ç”¨èŠ±æ‹¬å·åŒ…è£¹å‡½æ•°ä½“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åƒC++å¯ä»¥å°†èŠ±æ‹¬å·æ¢è¡Œï¼Œgoè¯­è¨€ä¸­èŠ±æ‹¬å·çš„æ¢è¡Œæ˜¯ä¸å…è®¸æ¢è¡Œçš„ï¼Œå¹¶ä½¿ç”¨tabè¿›è¡Œä»£ç ç¼©è¿›ã€‚
æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»‹ç»goçš„åŸºæœ¬è¯­æ³•
# GOåŸºæœ¬è¯­æ³•
## å˜é‡å’Œå¸¸é‡
### å˜é‡
å˜é‡å®šä¹‰å¦‚ä¸‹æ–¹å¼å¦‚ä¸‹ï¼š
```go
var a int
var a int = 10
var a = 10
a := 10
```
ä¸Šè¿°ä¸º4ç§ä¸åŒè¡¨è¾¾å½¢å¼çš„å˜é‡ç”³æ˜æ–¹å¼ï¼Œå…¶ä¸­aä¸ºå˜é‡åï¼Œ`int`ä¸ºå˜é‡ç±»å‹ï¼Œåä¸¤ç§æ–¹å¼ä¸­ï¼Œgoèƒ½å¤Ÿè‡ªåŠ¨æ¨ç†å‡ºå„ä¸ªå˜é‡çš„ç±»å‹ã€‚

goçš„å˜é‡åå¯ä»¥ç”¨26ä¸ªè‹±æ–‡å­—æ¯ï¼Œ`_`ä»¥åŠæ•°å­—ç»„åˆè€Œæˆ

> æ•°å­—ä¸èƒ½ä½œä¸ºå˜é‡çš„èµ·å§‹å­—ç¬¦

æ­¤å¤–goä¸­å­˜åœ¨ä¸€äº›å…³é”®å­—ï¼Œå…¶å…·å¤‡ç‰¹æ®Šå«ä¹‰ï¼ŒåŒ…å«ä¸€ä¸‹25ä¸ªï¼Œè¿™äº›å•è¯ä¸èƒ½ä½œä¸ºå˜é‡åï¼š
```go
break        default      func         interface    select
case         defer        go           map          struct
chan         else         goto         package      switch
const        fallthrough  if           range        type
continue     for          import       return       var
```
æ­¤å¤–è¿˜å­˜åœ¨ä¸€äº›ä¿ç•™å­—ï¼Œè¿™äº›åŒæ ·ä¸å»ºè®®ä½œä¸ºå˜é‡åï¼š
```go
    Constants:    true  false  iota  nil

        Types:    int  int8  int16  int32  int64  
                  uint  uint8  uint16  uint32  uint64  uintptr
                  float32  float64  complex128  complex64
                  bool  byte  rune  string  error

    Functions:   make  len  cap  new  append  copy  close  delete
                 complex  real  imag
                 panic  recover

```
å¦‚æœéœ€è¦å®šä¹‰å¤šä¸ªå˜é‡å¯ä»¥å¦‚æ­¤å£°æ˜ï¼š
```go
var (
    a int = 19
    b bool = true
)
æˆ–
var (
    a = 10
    b = false
)
```
### å¸¸é‡å®šä¹‰
ä¸å˜é‡å®šä¹‰ç±»ä¼¼ï¼Œå¯ä»¥å¦‚æ­¤å®šä¹‰
```go
const a int = 10
const a = 10 // notice the type of a is 'untyped int'
const (
    a = 10
    b string = "12a"
)
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¸¸é‡çš„æ‰¹é‡å®šä¹‰ä¸­ï¼Œå¦‚æœæ²¡æœ‰ç¡®å®šå¸¸é‡çš„ç±»å‹ï¼Œgoå¹¶ä¸ä¼šç›´æ¥æ¨åˆ°å‡ºå¸¸é‡çš„ç±»å‹ï¼Œè€Œæ˜¯`untyped ...`ï¼Œå…³äºè¿™ä¸ªé—®é¢˜å¯ä»¥æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://go.dev/blog/constants)ï¼Œå¯¹äº`untyped`å¸¸é‡ä¼šå¯¼è‡´çš„é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹[ç–‘æƒ‘: Go const å¯¼è‡´ç¨‹åºç»“æœé”™ä¹±?](https://mp.weixin.qq.com/s/9OngnAzyKfL7Y2nAYtaxhA)
### å¤šé‡èµ‹å€¼
è¿™ä¸ªç‰¹ç‚¹æœ‰ç‚¹åƒjsä¸­çš„å¤šé‡èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš
```go
    x, y, z := 1, 2, 3
```
è¿™æ—¶ï¼Œ`x`çš„å€¼ä¸º1ï¼Œ`y`çš„å€¼å°±ä¸º2ï¼Œâ€¦â€¦
ä½ å¯ä»¥éšå¤„ä½¿ç”¨è¯¥æ–¹æ³•æ¥å®ç°å¤šé‡èµ‹å€¼ï¼Œä¾‹å¦‚å¯ä»¥ç”¨åœ¨å¸¸é‡å®šä¹‰ä¸­
### åŒ¿åå˜é‡
goä¸­ä¼šä½¿ç”¨`_`æ¥è¡¨ç¤ºä¸€ä¸ªä»…ç”¨äºæ¥æ”¶ï¼Œä½†ä¸èƒ½ä½¿ç”¨çš„å˜é‡ï¼Œå¸¸ç”¨äºå½“æˆ‘ä»¬æƒ³è¦å¿½ç•¥å¤šé‡èµ‹å€¼ä¸­çš„æŸä¸ªå€¼æ—¶ã€‚ä¾‹å¦‚ï¼š
```go
    x, _, z := 1, 2, 3
```
### iota
`iota`æ˜¯`go`è¯­è¨€çš„å¸¸é‡è®¡æ•°å™¨ï¼Œåªèƒ½åœ¨å¸¸é‡çš„è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚

`iota`åœ¨`const`å…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º0ã€‚`const`ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿`iota`è®¡æ•°ä¸€æ¬¡ã€‚ä½¿ç”¨iotaèƒ½ç®€åŒ–å®šä¹‰ï¼Œåœ¨å®šä¹‰æšä¸¾æ—¶å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š
```go
const (
    a = iota // a = 0
    b        // b = 1
    c        // c = 2
)
æˆ–
const (
    _ = iota
    KB = 1<<(10*iota)
    MB
	GB
)
```
å¯ä»¥å‘ç°ï¼Œåç»­çš„å¸¸é‡æ¨å¯¼ï¼Œå‡æ˜¯ä¾æ®ç¦»è¿™æ¡è¯­å¥æœ€è¿‘çš„iotaè¡¨è¾¾æ¥æ¨å¯¼çš„ã€‚
# ä»£ç é£æ ¼
åœ¨goçš„ä»£ç ä¸­ï¼Œå˜é‡å‘½åçš„é£æ ¼é€šå¸¸å…·æœ‰ä¸€ä¸ªçº¦å®šä¿—æˆçš„è§„åˆ™ï¼Œè¿™é‡Œæˆ‘å°†æ€»ç»“ä¸€ä¸‹æˆ‘é‡åˆ°çš„ä¸€äº›è§„åˆ™
- å¯¹äºå¸¸é‡åï¼Œä¸€èˆ¬å…¨éƒ¨å¤§å†™ï¼Œå¹¶ç”¨`_`éš”å¼€ï¼Œä¾‹å¦‚ï¼š`MAX_CONNECTION`ã€‚
- å¯¹äºå˜é‡åä»¥åŠå‡½æ•°åï¼Œä¸€èˆ¬é‡‡ç”¨é©¼å³°é£æ ¼ï¼Œä¾‹å¦‚`isHashed`ã€‚å¦‚æœéœ€è¦å°†è¿™ä¸ªå‡½æ•°æˆ–å˜é‡è®¾ä¸ºpublicï¼Œåˆ™å°†é¦–å­—æ¯ä¹Ÿå¤§å†™ã€‚
- å½“ç„¶å˜é‡çš„å®šä¹‰æœ€å¥½èƒ½å¤Ÿç›´è§‚è¡¨ç°å…¶æ„ä¹‰ï¼Œæœ€å¥½åˆ«ç”¨æ‹¼éŸ³ã€æ— æ„ä¹‰çš„ä¸€ä¸ªå­—ç¬¦ä¸²æ¥å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚
